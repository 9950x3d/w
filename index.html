
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ïä§Ìã∏Ïñ¥ Î∏åÎ†àÏù∏Î°Ø ÏãúÎÆ¨Î†àÏù¥ÏÖò FINAL V25 (Fusion Fix)</title>
    <style>
        :root {
            --primary: #ffeb3b;
            --bg-color: #1a1a1a;
            --panel-color: #2d2d2d;
            --text-color: #ffffff;
            --common-border: #4caf50;
            --rare-border: #2979ff;
            --epic-border: #9c27b0;
            --legendary-border: #ffd700;
            --mythic-border: #ff0000;
            --bgod-border: #00ffff;
        }

        body {
            font-family: 'Segoe UI', AppleSDGothicNeo, sans-serif;
            background-color: #050505;
            background-image: radial-gradient(circle, #1a1a1a 0%, #000 100%);
            color: var(--text-color);
            margin: 0; padding: 0;
            user-select: none; overflow: hidden;
            display: flex; justify-content: center; align-items: center;
            height: 100vh; width: 100vw;
        }

        #game-container {
            width: 100%; height: 100%; max-width: 500px;
            background-color: var(--bg-color);
            display: flex; flex-direction: column;
            position: relative; overflow: hidden;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            border-left: 1px solid #333; border-right: 1px solid #333;
        }

        header {
            background: rgba(0,0,0,0.8); padding: 10px 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(5px); z-index: 10; flex-shrink: 0;
        }
        .header-top { display: flex; justify-content: space-between; align-items: center; }
        #game-title { font-size: 16px; font-weight: bold; color: #fff; text-shadow: 0 0 5px var(--primary); }
        .top-menu { display: flex; gap: 8px; }
        .icon-btn {
            background: #333; border: 1px solid #555;
            color: white; border-radius: 8px; width: 36px; height: 36px;
            font-size: 18px; cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: 0.2s;
        }
        .icon-btn:active { transform: scale(0.9); background: #555; }
        
        /* Factory Button Style */
        .icon-btn.factory-btn { border-color: #ff9800; color: #ff9800; box-shadow: 0 0 5px #ff9800; }
        
        /* Luck Shop Button Style */
        .icon-btn.luck-btn { 
            border-color: #00ffff; color: #00ffff; 
            box-shadow: 0 0 8px #00ffff; 
            background: linear-gradient(135deg, #003333, #000);
            animation: pulseLuck 2s infinite;
        }
        @keyframes pulseLuck { 0% { box-shadow: 0 0 5px #00ffff; } 50% { box-shadow: 0 0 15px #00ffff; } 100% { box-shadow: 0 0 5px #00ffff; } }

        .status-bar { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; }
        .money-container { display: flex; flex-direction: column; }
        .money-display { font-size: 20px; font-weight: bold; color: var(--primary); }
        .rebirth-display { font-size: 11px; color: #00ffff; }
        .eps-display { font-size: 12px; color: #aaa; }

        #lobby {
            flex: 1; overflow-y: auto; padding: 15px;
            display: flex; flex-direction: column; align-items: center;
            background: radial-gradient(circle at center, #222 0%, #111 100%);
        }

        .draw-count-selector {
            display: flex; gap: 5px; margin-bottom: 20px; background: rgba(0,0,0,0.5);
            padding: 5px; border-radius: 20px; width: fit-content;
        }
        .count-btn {
            background: transparent; border: 1px solid #555; color: #aaa;
            padding: 5px 10px; border-radius: 15px; cursor: pointer; font-size: 11px; font-weight: bold;
        }
        .count-btn.active { background: var(--primary); color: black; border-color: var(--primary); }

        .shop-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; width: 100%; }

        .pack-card {
            background: #222; border-radius: 12px; padding: 15px 5px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; border: 2px solid #444; position: relative;
            transition: transform 0.1s; height: 130px;
        }
        .pack-card:active { transform: scale(0.95); }
        
        /* Pack Styles */
        .pack-normal { border-color: var(--common-border); background: linear-gradient(135deg, #222, #1b3a1b); }
        .pack-rare { border-color: var(--rare-border); background: linear-gradient(135deg, #222, #1b283a); }
        .pack-epic { border-color: var(--epic-border); background: linear-gradient(135deg, #222, #2a1b3a); }
        .pack-legendary { border-color: var(--legendary-border); background: linear-gradient(135deg, #222, #3a351b); box-shadow: 0 0 10px rgba(255, 215, 0, 0.2); }
        .pack-mythic { border-color: var(--mythic-border); background: linear-gradient(135deg, #222, #3a1b1b); box-shadow: 0 0 15px rgba(255, 0, 0, 0.3); }
        .pack-god { 
            border: 3px solid transparent; 
            background: linear-gradient(#000, #000) padding-box, linear-gradient(45deg, red, orange, yellow, green, blue, indigo, violet) border-box;
            background-clip: padding-box, border-box;
            box-shadow: 0 0 20px rgba(255,255,255,0.15); animation: rainbowPack 3s linear infinite;
        }
        .pack-secret {
            border: 3px solid transparent;
            background: linear-gradient(#000, #000) padding-box, 
                        linear-gradient(180deg, #000, #000, #000, #fff, #000, #000, #000) border-box;
            background-clip: padding-box, border-box;
            background-size: 100% 200%;
            animation: secretScan 2s linear infinite;
            box-shadow: 0 0 15px rgba(255,255,255,0.1);
        }
        .pack-og {
            border: 3px solid transparent;
            background: linear-gradient(#000, #000) padding-box, 
                        linear-gradient(to bottom, #f7e500, #C9BA00, #988D00, #716900, #000) border-box;
            background-clip: padding-box, border-box;
            box-shadow: 0 0 20px #f7e500;
        }
        /* Luck Block Styles */
        .pack-luck-god { border: 2px solid #00ffff; background: linear-gradient(135deg, #003333, #001111); box-shadow: 0 0 15px #00ffff; }
        .pack-luck-secret { border: 2px solid #ff00ff; background: linear-gradient(135deg, #330033, #110011); box-shadow: 0 0 15px #ff00ff; }

        @keyframes rainbowPack { 0% { filter: hue-rotate(0deg); } 100% { filter: hue-rotate(360deg); } }
        @keyframes secretScan { 0% { background-position: 0% 0%; } 100% { background-position: 0% 200%; } }

        .pack-emoji { font-size: 32px; margin-bottom: 5px; }
        .pack-img { width: 60px; height: 60px; margin-bottom: 5px; object-fit: contain; filter: drop-shadow(0 0 5px rgba(255,255,255,0.5)); }
        .pack-title { font-size: 13px; font-weight: bold; text-align: center; }
        .pack-cost { font-size: 11px; color: var(--primary); margin-top: 5px; background: rgba(0,0,0,0.8); padding: 3px 10px; border-radius: 10px; }

        #my-base {
            height: 25%; min-height: 150px; background-color: #1e1e1e;
            border-top: 2px solid #444; padding: 10px;
            overflow-y: auto; flex-shrink: 0;
        }
        .base-title { text-align: center; font-size: 12px; margin-bottom: 8px; color: #ccc; }
        .base-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 6px; }
        .slot { aspect-ratio: 1; background: rgba(255,255,255,0.05); border-radius: 6px; display: flex; align-items: center; justify-content: center; position: relative; border: 1px solid #333; }

        .item-img { width: 100%; height: 100%; object-fit: contain; border-radius: 5px; background: rgba(0,0,0,0.3); box-sizing:border-box; }
        
        /* Rarities */
        .rarity-1 { border: 2px solid var(--common-border); }
        .rarity-2 { border: 2px solid var(--rare-border); }
        .rarity-3 { border: 2px solid var(--epic-border); box-shadow: 0 0 5px var(--epic-border); }
        .rarity-4 { border: 2px solid var(--legendary-border); box-shadow: 0 0 8px var(--legendary-border); }
        .rarity-5 { border: 2px solid var(--mythic-border); box-shadow: 0 0 10px var(--mythic-border); animation: pulseRed 1s infinite; }
        .rarity-6 { border: 3px solid transparent; animation: rainbowBorder 1.5s linear infinite; box-shadow: 0 0 12px rgba(255,255,255,0.5); }
        .rarity-8 { border: 3px solid transparent; background: linear-gradient(#000, #000) padding-box, linear-gradient(180deg, #000, #000, #000, #000, #FFF, #000, #000, #000, #000, #000) border-box; background-clip: padding-box, border-box; background-size: 100% 200%; animation: secretScan 2s linear infinite; box-shadow: 0 0 10px rgba(255,255,255,0.4); }
        .rarity-9 { border: 4px solid transparent; background: linear-gradient(#000, #000) padding-box, conic-gradient(from 0deg, #f7e500, #b8860b, #fff, #f7e500) border-box; background-clip: padding-box, border-box; animation: ogSpin 3s linear infinite; box-shadow: 0 0 15px #f7e500; }

        @keyframes ogSpin { from { --angle: 0deg; filter: hue-rotate(0deg); } to { --angle: 360deg; filter: hue-rotate(30deg); } }
        @keyframes rainbowBorder { 0% { border-color: red; } 20% { border-color: yellow; } 40% { border-color: green; } 60% { border-color: blue; } 80% { border-color: violet; } 100% { border-color: red; } }
        @keyframes pulseRed { 0% { box-shadow: 0 0 5px red; } 50% { box-shadow: 0 0 15px red; } 100% { box-shadow: 0 0 5px red; } }

        /* Modals */
        .modal { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 100; flex-direction: column; padding: 20px; box-sizing: border-box; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; border-bottom: 1px solid #444; padding-bottom: 10px; }
        .close-btn { background: none; border: none; color: white; font-size: 28px; cursor: pointer; }
        
        .inventory-list { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; overflow-y: auto; padding-bottom: 50px; }
        .inv-item { background: #333; border-radius: 5px; padding: 4px; display: flex; flex-direction: column; align-items: center; cursor: pointer; position: relative; height: 80px; justify-content: space-between; }
        .lvl-badge { position: absolute; top: 2px; right: 2px; background: rgba(0,0,0,0.8); color: white; font-size: 9px; padding: 1px 3px; border-radius: 3px; z-index: 5; }
        
        /* Collection Locked Fix */
        .collection-item.locked img { filter: grayscale(100%) brightness(0.2) !important; opacity: 0.5; animation: none !important; background: #333 !important; border: 1px solid #555 !important; box-shadow: none !important; }
        .collection-item.locked .item-name { color: #555; }
        
        /* Collection Tabs */
        .collection-tabs { display: flex; gap: 5px; margin-bottom: 10px; justify-content: center; flex-wrap: wrap; }
        .tab-btn { background: #333; color: #aaa; border: 1px solid #555; padding: 5px 10px; border-radius: 15px; cursor: pointer; font-size: 11px; }
        .tab-btn.active { background: var(--primary); color: black; border-color: var(--primary); font-weight: bold; }

        /* Gacha */
        #gacha-anim { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: black; z-index: 200; flex-direction: column; align-items: center; justify-content: center; }
        .gacha-box { font-size: 80px; animation: shake 0.5s infinite; }
        #gacha-results-container { display: none; flex-direction: column; align-items: center; width: 100%; height: 100%; padding: 20px; box-sizing: border-box; }
        .result-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px; width: 100%; overflow-y: auto; max-height: 75vh; margin-bottom: 15px; }
        .result-card { background: #222; padding: 8px; border-radius: 8px; text-align: center; display: flex; flex-direction: column; align-items: center; border: 1px solid #444; }
        @keyframes shake { 0%{transform:rotate(0deg);} 25%{transform:rotate(5deg);} 75%{transform:rotate(-5deg);} }

        #item-action-menu { position: absolute; bottom: 0; left: 0; right: 0; background: #222; border-top: 2px solid var(--primary); padding: 20px; display: none; flex-direction: column; gap: 10px; z-index: 150; border-top-left-radius: 15px; border-top-right-radius: 15px; box-shadow: 0 -5px 20px rgba(0,0,0,0.5); }
        .action-btn { padding: 12px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; width: 100%; }
        .btn-green { background: var(--common-border); color: white; }
        .btn-red { background: #f44336; color: white; }
        .btn-yellow { background: var(--primary); color: black; }
        .btn-pink { background: #e91e63; color: white; }
        .btn-rebirth { background: linear-gradient(45deg, #00c6ff, #0072ff); color: white; box-shadow: 0 0 10px #0072ff; }

        /* Fusion & Ritual */
        #fusion-container { display: flex; flex-direction: column; align-items: center; width: 100%; background: #252525; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #444; }
        #fusion-slots { display: flex; gap: 10px; justify-content: center; margin-bottom: 10px; padding: 10px; }
        .fusion-slot { width: 50px; height: 50px; background: #333; border: 2px dashed #555; border-radius: 8px; display: flex; align-items: center; justify-content: center; position: relative; cursor: pointer; }
        .fusion-slot.filled { border: 2px solid #e91e63; }
        
        #ritual-container { display: flex; flex-direction: column; align-items: center; width: 100%; background: #2a1b3a; padding: 15px; border-radius: 10px; margin-bottom: 20px; border: 1px solid #9c27b0; }
        #ritual-slots { display: flex; gap: 10px; justify-content: center; margin-bottom: 10px; padding: 10px; }
        .ritual-slot { width: 50px; height: 50px; background: #333; border: 2px dashed #9c27b0; border-radius: 50%; display: flex; align-items: center; justify-content: center; position: relative; cursor: pointer; }
        .ritual-slot.filled { border: 2px solid #ffeb3b; box-shadow: 0 0 10px #ffeb3b; }

        /* Battle */
        #battle-view { text-align: center; display: none; flex-direction: column; align-items: center; justify-content: center; height: 100%; }
        .battle-stage { width: 100%; height: 250px; position: relative; margin-bottom: 20px; }
        .fighter { width: 120px; height: 120px; position: absolute; bottom: 20px; object-fit: contain; }
        .fighter.player { left: 20px; }
        .fighter.enemy { right: 20px; transform: scaleX(-1); filter: hue-rotate(180deg); }
        .hp-bar { width: 80%; height: 15px; background: #444; border-radius: 10px; overflow: hidden; margin-top: 10px; border: 1px solid #666; }
        .hp-fill { width: 100%; height: 100%; background: #f44336; transition: width 0.2s; }

        .settings-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
        .lang-btn { padding: 12px; border: 1px solid #555; background: #333; color: white; cursor: pointer; border-radius: 5px; font-size: 14px; }
        
        /* Factory Modal Specific */
        #factory-floor {
            width: 100%; height: 200px; background: #000; 
            border: 2px solid #555; border-radius: 10px; 
            position: relative; overflow: hidden; margin-bottom: 15px;
            background-image: url('https://img.freepik.com/free-vector/factory-interior-background-illustration_1284-6997.jpg');
            background-size: cover; background-position: center;
        }
        .factory-mob {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 100px; height: 100px; cursor: pointer;
            animation: bounce 1s infinite;
            filter: drop-shadow(0 0 10px red);
        }
        @keyframes bounce { 0%,100% {transform:translateX(-50%) translateY(0);} 50% {transform:translateX(-50%) translateY(-10px);} }
        .rebirth-panel { background: #333; padding: 10px; border-radius: 10px; margin-bottom: 15px; text-align: center; border: 1px solid #00c6ff; width: 100%; }

    </style>
</head>
<body>

<div id="game-container">
    <header>
        <div class="header-top">
            <div id="game-title">Ïä§Ìã∏Ïñ¥ Î∏åÎ†àÏù∏Î°Ø V25 (Fusion Fix)</div>
            <div class="top-menu">
                <button class="icon-btn luck-btn" onclick="openModal('luck-shop-modal')">üçÄ</button>
                <button class="icon-btn factory-btn" onclick="openFactoryModal()">üè≠</button>
                <button class="icon-btn" onclick="openModal('inventory-modal')">üì¶</button>
                <button class="icon-btn" onclick="openModal('battle-modal')">‚öîÔ∏è</button>
                <button class="icon-btn" onclick="openModal('collection-modal')">üìñ</button>
                <button class="icon-btn" onclick="openModal('settings-modal')">‚öôÔ∏è</button>
            </div>
        </div>
        <div class="status-bar">
            <div class="money-container">
                <div class="money-display"><span id="money">0</span> ‚Ç©</div>
                <div class="rebirth-display">Mult: x<span id="rebirth-mult">1.0</span></div>
            </div>
            <div class="eps-display">+<span id="eps">0</span> /s</div>
        </div>
    </header>

    <div id="lobby">
        <div class="draw-count-selector">
            <button class="count-btn active" onclick="setDrawCount(1)">x1</button>
            <button class="count-btn" onclick="setDrawCount(3)">x3</button>
            <button class="count-btn" onclick="setDrawCount(5)">x5</button>
            <button class="count-btn" onclick="setDrawCount(10)">x10</button>
            <button class="count-btn" onclick="setDrawCount(100)">x100</button>
        </div>

        <div class="shop-grid">
            <div class="pack-card pack-normal" onclick="buyPack('normal')">
                <div class="pack-emoji">üéÅ</div>
                <div class="pack-title" data-lang="pack_normal">ÏùºÎ∞ò Ìå©</div>
                <div class="pack-cost">10 ‚Ç©</div>
            </div>
            <div class="pack-card pack-rare" onclick="buyPack('rare')">
                <div class="pack-emoji">üíé</div>
                <div class="pack-title" data-lang="pack_rare">Î†àÏñ¥ Ìå©</div>
                <div class="pack-cost">500 ‚Ç©</div>
            </div>
            <div class="pack-card pack-epic" onclick="buyPack('epic')">
                <div class="pack-emoji">üîÆ</div>
                <div class="pack-title" data-lang="pack_epic">ÏóêÌîΩ Ìå©</div>
                <div class="pack-cost">1K ‚Ç©</div>
            </div>
            <div class="pack-card pack-legendary" onclick="buyPack('legendary')">
                <div class="pack-emoji">üëë</div>
                <div class="pack-title" data-lang="pack_legendary">Ï†ÑÏÑ§ Ìå©</div>
                <div class="pack-cost">5K ‚Ç©</div>
            </div>
            <div class="pack-card pack-mythic" onclick="buyPack('mythic')">
                <div class="pack-emoji">üëπ</div>
                <div class="pack-title" data-lang="pack_mythic">Ïã†Ìôî Ìå©</div>
                <div class="pack-cost">50K ‚Ç©</div>
            </div>
            <div class="pack-card pack-god" onclick="buyPack('god')">
                <div class="pack-emoji">üåå</div>
                <div class="pack-title" data-lang="pack_god">Í∞ì Ìå©</div>
                <div class="pack-cost">2M ‚Ç©</div>
            </div>
            <div class="pack-card pack-secret" onclick="buyPack('secret')">
                <div class="pack-emoji">‚ùì</div>
                <div class="pack-title" data-lang="pack_secret">ÏãúÌÅ¨Î¶ø Ìå©</div>
                <div class="pack-cost">50M ‚Ç©</div>
            </div>
            <div class="pack-card pack-og" onclick="buyPack('og')">
                <div class="pack-emoji">‚öúÔ∏è</div>
                <div class="pack-title">OG Ìå©</div>
                <div class="pack-cost">1B ‚Ç©</div>
            </div>
        </div>
    </div>

    <!-- Lucky Block Shop Modal (New) -->
    <div id="luck-shop-modal" class="modal">
        <div class="modal-header">
            <h3 style="color:#00ffff">üçÄ Îü≠ÌÇ§Î∏îÎü≠ ÏÉÅÏ†ê</h3>
            <button class="close-btn" onclick="closeModal('luck-shop-modal')">√ó</button>
        </div>
        <div style="flex:1; overflow-y:auto; padding:20px; display:flex; flex-direction:column; align-items:center;">
            <div class="draw-count-selector">
                <button class="count-btn active" onclick="setDrawCount(1)">x1</button>
                <button class="count-btn" onclick="setDrawCount(3)">x3</button>
                <button class="count-btn" onclick="setDrawCount(5)">x5</button>
            </div>
            <div class="shop-grid">
                <div class="pack-card pack-luck-god" onclick="buyPack('luck_god')">
                    <img src="https://i.namu.wiki/i/gVJF67WTIgK0llkTSlLVL7A0C7Mf-L0jEES6_ieCs_CpCSabviFve0aYS07Fe1M6GQXI2tfHfAhdMW5EgsvRhtAHTpSabDM02FliroHeMM9kSwTPnTYyQa_JTms_5fP_Zy_1Xl1rlecRDMnlnWak8g.webp" class="pack-img" style="width:70px; height:70px;">
                    <div class="pack-title">Í∞ì Îü≠ÌÇ§Î∏îÎü≠</div>
                    <div class="pack-cost">500K ‚Ç©</div>
                </div>
                <div class="pack-card pack-luck-secret" onclick="buyPack('luck_secret')">
                    <img src="https://i.namu.wiki/i/bpALgQ99Hc64sXWjlPjse3dS_Mw37Am-HaGGyHHdLxZUky4oUNNrL51065PiekfrhcTOWd2jtntpstWaDu8mLWq8v2j8l4tCU7i7-EmWqtLpKxbEUIOF_fShpziWSkkwnuIhTusLWODvUsVO3X5xGA.webp" class="pack-img">
                    <div class="pack-title">ÏãúÌÅ¨Î¶ø Îü≠ÌÇ§Î∏îÎü≠</div>
                    <div class="pack-cost">100M ‚Ç©</div>
                </div>
            </div>
        </div>
    </div>

    <div id="my-base">
        <div class="base-title"><span data-lang="base_title">ÎÇòÏùò Î≤†Ïù¥Ïä§</span> (<span id="base-count">0</span>/50)</div>
        <div class="base-grid" id="base-grid"></div>
    </div>

    <!-- Factory Modal (Rebirth + Fusion + Roaming) -->
    <div id="factory-modal" class="modal">
        <div class="modal-header">
            <h3 style="color:#ff9800">üè≠ Î∏åÎ†àÏù∏Î°Ø Í≥µÏû•</h3>
            <button class="close-btn" onclick="closeModal('factory-modal')">√ó</button>
        </div>
        <div style="flex:1; overflow-y:auto; width:100%; display:flex; flex-direction:column; align-items:center;">
            
            <!-- Factory Floor -->
            <div id="factory-floor">
                <div style="position:absolute; top:5px; left:5px; color:white; font-size:10px; background:rgba(0,0,0,0.5); padding:3px;">
                    ‚ö†Ô∏è ÏïºÏÉùÏùò Î∏åÎ†àÏù∏Î°Ø Ï∂úÎ™∞ Íµ¨Ïó≠<br>(ÌÅ¥Î¶≠ÌïòÏó¨ Î∞∞ÌãÄ)
                </div>
                <div id="factory-mob-container"></div>
            </div>

            <!-- Rebirth System -->
            <div class="rebirth-panel">
                <h4 style="margin:0 0 5px 0; color:#00c6ff;">ÌôòÏÉù ÏãúÏä§ÌÖú (Rebirth)</h4>
                <div style="font-size:11px; margin-bottom:5px;">ÌòÑÏû¨ Î∞∞Ïú®: x<span id="factory-rebirth-mult">1.0</span></div>
                <button class="action-btn btn-rebirth" onclick="doRebirth()" style="font-size:12px; padding:8px;">ÌôòÏÉùÌïòÍ∏∞ (Ï°∞Í±¥: 100M ‚Ç©)</button>
            </div>

            <!-- Ritual System -->
            <div id="ritual-container">
                <h4 style="margin:0 0 5px 0; color:#9c27b0;">üïØÔ∏è ÏùòÏãùÏùò Ï†úÎã® (Ritual)</h4>
                <div class="fusion-info" style="font-size:10px; color:#ddd; text-align:center;">'Î¥ÑÎ∞îÎ•¥ ÎîîÎ°ú ÌÅ¨Î°úÏΩî ÎîîÎ°ú' 3ÎßàÎ¶¨Î•º Î∞îÏ≥ê ÏÜåÌôò</div>
                <div id="ritual-slots">
                    <div class="ritual-slot" id="r-slot-0" onclick="removeRitualItem(0)"></div>
                    <div class="ritual-slot" id="r-slot-1" onclick="removeRitualItem(1)"></div>
                    <div class="ritual-slot" id="r-slot-2" onclick="removeRitualItem(2)"></div>
                </div>
                <button id="btn-ritual-start" class="action-btn" style="background:#333; color:#555; font-size:12px; padding:8px;" disabled onclick="startRitual()">ÏùòÏãù ÏãúÏûë</button>
            </div>

            <!-- Fusion System -->
            <div id="fusion-container">
                <h4 style="margin:0 0 5px 0; color:#e91e63;">üß¨ Ìì®Ï¶à Î®∏Ïã†</h4>
                <div class="fusion-info">Ïû¨Î£å 4Í∞úÎ•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî (Í∞ÄÏπòÍ∞Ä ÎÜíÏùÑÏàòÎ°ù Ï¢ãÏùå)</div>
                <div id="fusion-slots">
                    <div class="fusion-slot" id="f-slot-0" onclick="removeFusionItem(0)"></div>
                    <div class="fusion-slot" id="f-slot-1" onclick="removeFusionItem(1)"></div>
                    <div class="fusion-slot" id="f-slot-2" onclick="removeFusionItem(2)"></div>
                    <div class="fusion-slot" id="f-slot-3" onclick="removeFusionItem(3)"></div>
                </div>
                <button id="btn-fuse-start" class="action-btn" style="background:#333; color:#555; font-size:12px; padding:8px;" disabled onclick="startFusion()">Ìì®Ï¶à ÏãúÏûë</button>
            </div>
            
            <div style="width:100%;">
                <h5 style="color:#ccc; margin:5px 0; text-align:center;">Ïù∏Î≤§ÌÜ†Î¶¨ (Ïû¨Î£å ÏÑ†ÌÉù)</h5>
                <div class="inventory-list" id="fusion-inventory-list" style="height:150px;"></div>
            </div>
        </div>
    </div>

    <!-- Inventory -->
    <div id="inventory-modal" class="modal">
        <div class="modal-header">
            <h3 data-lang="inventory">Ïù∏Î≤§ÌÜ†Î¶¨</h3>
            <button class="close-btn" onclick="closeModal('inventory-modal')">√ó</button>
        </div>
        <div class="inventory-list" id="inventory-list"></div>
        <div id="item-action-menu">
            <div id="selected-item-info" style="text-align:center; color:white; margin-bottom:10px;"></div>
            <button class="action-btn btn-green" onclick="actionEquip()" data-lang="equip">Ïû•Ï∞©ÌïòÍ∏∞</button>
            <button class="action-btn btn-red" onclick="actionBattleStart()" data-lang="battle_start">Î∞∞ÌãÄÌïòÍ∏∞ (XP)</button>
            <button class="action-btn btn-yellow" onclick="actionSell()"><span data-lang="sell">ÌåêÎß§</span> (<span id="sell-price">0</span>‚Ç©)</button>
            <button class="action-btn" onclick="closeActionMenu()" style="background:#555; color:white;" data-lang="cancel">Ï∑®ÏÜå</button>
        </div>
    </div>

    <!-- Collection -->
    <div id="collection-modal" class="modal">
        <div class="modal-header">
            <h3 data-lang="collection">ÎèÑÍ∞ê</h3>
            <button class="close-btn" onclick="closeModal('collection-modal')">√ó</button>
        </div>
        <div class="collection-tabs">
            <button class="tab-btn active" onclick="setCollectionTab('all')">Ï†ÑÏ≤¥</button>
            <button class="tab-btn" onclick="setCollectionTab('standard')">ÏùºÎ∞ò</button>
            <button class="tab-btn" onclick="setCollectionTab('fusion')">Ìì®Ï†Ñ</button>
            <button class="tab-btn" onclick="setCollectionTab('ritual')">ÏùòÏãù</button>
            <button class="tab-btn" onclick="setCollectionTab('luck')">Îü≠ÌÇ§Î∏îÎü≠</button>
        </div>
        <div class="inventory-list" id="collection-list"></div>
    </div>

    <!-- Battle -->
    <div id="battle-modal" class="modal">
        <div class="modal-header">
            <h3 data-lang="battle">Î∞∞ÌãÄ ÏïÑÎ†àÎÇò</h3>
            <button class="close-btn" onclick="closeModal('battle-modal')">√ó</button>
        </div>
        <div id="battle-lobby" style="text-align:center; padding-top:50px;">
            <p data-lang="battle_desc">Ïù∏Î≤§ÌÜ†Î¶¨ÏóêÏÑú Ï∫êÎ¶≠ÌÑ∞Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî!</p>
            <button class="action-btn btn-green" onclick="openModal('inventory-modal'); closeModal('battle-modal');" data-lang="select_char">Ï∫êÎ¶≠ÌÑ∞ ÏÑ†ÌÉù</button>
        </div>
        <div id="battle-view">
            <h2 id="battle-msg" style="color:#f44336;">FIGHT!</h2>
            <div class="battle-stage">
                <img id="battle-player" class="fighter player">
                <img id="battle-enemy" class="fighter enemy">
            </div>
            <div style="width:80%;">
                <div>Enemy HP</div>
                <div class="hp-bar"><div id="enemy-hp" class="hp-fill"></div></div>
            </div>
        </div>
    </div>

    <!-- Settings -->
    <div id="settings-modal" class="modal">
        <div class="modal-header">
            <h3 data-lang="settings">ÏÑ§Ï†ï</h3>
            <button class="close-btn" onclick="closeModal('settings-modal')">√ó</button>
        </div>
        
        <h4 style="margin-bottom:10px; color:#aaa;">Language</h4>
        <div class="settings-grid">
            <button class="lang-btn" onclick="setLanguage('ko')">ÌïúÍµ≠Ïñ¥</button>
            <button class="lang-btn" onclick="setLanguage('en')">English</button>
            <button class="lang-btn" onclick="setLanguage('ja')">Êó•Êú¨Ë™û</button>
        </div>

        <div style="margin-top:20px;">
            <button class="action-btn btn-red" onclick="resetData()" style="width:100%;">Ï¥àÍ∏∞Ìôî / Reset</button>
        </div>
    </div>

    <!-- Gacha Result -->
    <div id="gacha-anim">
        <div class="gacha-box">üì¶</div>
        <div id="gacha-results-container">
            <h2 style="color:var(--primary); margin-bottom:10px;" data-lang="gacha_result">Í≤∞Í≥º</h2>
            <div class="result-grid" id="result-grid"></div>
            <button class="action-btn btn-green" onclick="closeGacha()" style="width:100%; max-width:200px;">OK</button>
        </div>
    </div>

</div>

<script>
    const DB = [
        // Common (Rarity 1)
        { id: 4, name: "Í∞ïÌÉàÏûê ÌîÑÌÖåÎùº", val: 30, rarity: 1, img: "https://i.namu.wiki/i/S6GH5Htxp89QbGsicC-uabEArjuFZuhOxVyoRcKblcP3wL08AIpryqnV7cnNvk3VILkjs0MqHXJ1ZyHfKfT0kT6gYhwYAtl0wKVvYe77YNCzv5O75me17wI9ejDC-uWNqMrRBZdBq_fIIuGXnMNkRA.webp" },
        { id: 5, name: "Î≥∏Î∂ÄÎ¶¨ÌÜ† Î∞òÎîïÌÜ†", val: 45, rarity: 1, img: "https://i.namu.wiki/i/qMDqzadLmyw5QC6pp0mbrrgtfNCTi2BgCaPJayjPSFMxEvMBPxGoqj9eXhRXPjjwGIHG1dWyIUTS76IxKn9mulJP7--_IaJ5zYtfGBU9G5Hxu112I64YKQCFk7AZtYg0HNdhG5SWO8pl_gKodscy4Q.webp" },
        { id: 9, name: "Ìä∏Î¶¨ÌîºÌä∏Î°úÌîº", val: 15, rarity: 1, img: "https://i.namu.wiki/i/c7khrxhyiDB1b79Iv19N3EVMzQBQpQfy7_R7qWx-N_X5j_gw2fRXrQ7qd8bNNpWTxmTfcHr1V720EZmosRGG_-aO_Ss0AVEGE53C9n0TSznNmfIHoXczT9dOFeBET5kuf9SBtVzVbIN4bfOEt8yfrQ.webp" },
        { id: 10, name: "Î≥¥ÎÑ§Ïπ¥ ÏïîÎ∞úÎùºÎ∂Ä", val: 40, rarity: 1, img: "https://i.namu.wiki/i/9YOGd2VhnjWY81HFbVzMQdCk6SwXP_hzp4S7U5NWycioSvqnWyI-WSDrHX47xu4q1rh0EeEJqjUm7HpDrvmnG5trEOwtwIUz3GyyShtjK5KlDf2kBSVG9qqQcKKNl_uADC4De5KPVqKC1AA4xshraQ.webp" },
        { id: 11, name: "ÌûàÏ∫åÌà¨ÌûàÌÉÄÌè¨ÌÉÄÎ™®", val: 50, rarity: 1, img: "https://i.namu.wiki/i/sD7bUvYXIw33P_uMlgGABKR46DRGDcFJfFABrtXZgQpjUOYdgvcJg4pq3Q2g94lGhHqbvv98V9hHXqT2sEQ2yA3JL_UsUK_-XRBLPPD9sIvu4abxI_lPT619Gniz8ldflQwrZNUXx_eBUzzhKChXow.webp" },
        { id: 12, name: "ÌÉÄÌÉÄÌÉÄ ÏÇ¨ÌõÑÎ•¥", val: 55, rarity: 1, img: "https://i.namu.wiki/i/uJ8cuQb_nnSy9hWbiIK89PaydY-cREU5uSA6zDrhenVGBi1kMBxBiQg4bnVzOLaBOzKKeQQqaa0rcuoMnB7gsVbAZaFbUNTOXCKNpOmjFkNv47oNXsISqp6yY1s-VEOUADgGN3yTwpvo_LwNQ2oKCw.webp" },
        { id: 13, name: "Ìä∏Î¶≠Î∂ÄÎùΩ Î∞îÎùºÎ∂ê", val: 65, rarity: 1, img: "https://i.namu.wiki/i/AzkLdKiPJpyu_rdmlUayXbbeCFz3eS9C7edYItIDLLoZLZ5wtyf3ivTUqVQ_ePYX2Vtg5aAIQ3mAsytatUxIgqQrItDVGUqesR2to9I3bUqnxE1_qhR97n-6rthb32V1n4U1h9Hc8rnTwenmXuakmw.webp" },

        // Rare (2)
        { id: 0, name: "ÎàÑÎπÑÎãà ÌîºÏûêÎãàÎãà", val: 1, rarity: 2, img: "https://i.namu.wiki/i/2TPAcGkYR-OCMgvKMurRodCfzPmZZIORq50mhKZ-P9czgmON4GVsGmbYmbw5jeosqfhbBqEmbkprwFaJP9XKsUJlzUqhknxIzegnfFhNGwAlWG9O1ON6Ha_cc6064kILj0MXQFj1D5eHymZ0Gl3ThQ.webp" },
        { id: 1, name: "Î¶¨Î¶¥Î¶¨ ÎùºÎ¶¥Îùº", val: 3, rarity: 2, img: "https://i.namu.wiki/i/o2TIDVPkV8APQs6_azvWaZIQgARRnaWYgtq2y7RoRATkfIgQAngSpUC68SmTPnGAiqpkaIdSZJpJTr4gBLMdJglSfBS0ChAjuHueVfw6ynCFbWkov1HbPuObJNZharc3aoNk9kCmdXYy8oyTlPZZDQ.webp" },
        { id: 2, name: "ÌåÄ ÏπòÏ¶à", val: 5, rarity: 2, img: "https://i.namu.wiki/i/GSd6Tw8GxlFT3f1hPBc64RIF_rjpIkp-Czm3tmgxpXjM1YlS1cqTPXjJggbVcEI_Rt-FwuQTVVo5Q5ZA5Bbqr01hqGo-9xce6CWumCjMTdvLn9XvAy_aUeUcxXHV5b4Z5z-R89MOKWQxI1D3kE0EaA.webp" },
        { id: 3, name: "ÌîÑÎ°§Î¶¨ ÌîÑÎ°§Îùº", val: 7, rarity: 2, img: "https://i.namu.wiki/i/Bnsp0t-AH32xHo_07o896ZpMjFL_Nqy7NUkm6OdDx_Esp3SppQNYTVnvR6ZPQm-n-F8IiAwmDgJbSo4pH2jZbrbzlQivTTM6XOii_CQXCK6zMJwro1cmpDjwhWlFkuUy3Uqz9GPNrEHfg1eMPhiCwg.webp" },
        { id: 6, name: "Îã¨ ÌååÎîî ÌéòÎ°ú", val: 9, rarity: 2, img: "https://i.namu.wiki/i/E6pF9EhddC8Y8vY0DfCjwDfhe5Tf5QhJaUyOza2sXU9kS50e-PPIUdMudPMqTLEqXqWsh6NJLQjsDUTmOGerxytaMHpd6WPUasq0grxIty5j1lnhEKorI9sM6B5NpuIuITbZTOLUESmeUXhTM-hoFA.webp" },
        { id: 7, name: "Ïä§ÎπÑÎãàÎÇò Î¥ÑÎ∞îÎ•¥", val: 10, rarity: 2, img: "https://i.namu.wiki/i/70fYy97CIqXrZYDzgZNv9iQtO6LM8YzPRec79WKQ9PNPxjGeNFQQ0OTzQjlo0WJopkuTh2oNT6zmm40zI4FAld8E90z9LcBnCEP9FmfDMoZbQNJiyTqkMuidhEujnGTRa6WebY0uknvBAdFuqObgrw.webp" },
        { id: 8, name: "ÌîºÌîº ÌÇ§ÏúÑ", val: 13, rarity: 2, img: "https://i.namu.wiki/i/zDv0SzOJaSqbDLXDx8vsQDvcbcF3luF6k00VT9NNBfCzkAc-HgwgTDNmNedAbt92s16M0YwwDEq7RuM6EzI9njrC8xEklirxEeqEYlsKMMWeBjTNIEE4LXzLOK3dU7dpkVFXD0HPZSeLyqRJAgVVBA.webp" },

        // Epic (3)
        { id: 14, name: "Ïπ¥Ìë∏ÏπòÎÖ∏ ÏïÑÏÇ¨ÏãúÎÖ∏", val: 75, rarity: 3, img: "https://i.namu.wiki/i/E3rk2GsDkrbl5P5nNFjIY4iqIzTOaDrcbtDRpl1L0t_aFzdHzKcyhUCwxD-H14gLp1YVTwdLhiyLM9ZDwRpmAni9hLZaS0D7UOKtpzhPguDJMWZ8gGtwdQMy5U0NyHavEQDEem7mgYZs5Bi1fFBHJw.webp" },
        { id: 15, name: "Î∏åÎ•¥Î•¥Î∏åÎ•¥Î•¥ ÌååÌÉÄÌïå", val: 100, rarity: 3, img: "https://i.namu.wiki/i/t_YbZv2DsfHunbrdaA9vg9ferAYJLWp36uEIwARkPZtLvWTFgXxJ1F7-tAqe2tdDqyg7YSqnuoyA7g-ICh_hPG2HWfR4jkYDNAhRK_gyRH77_2eT-I5-0e5wqeud2ovAiAyboW2x58Lb-AxvzMT5SQ.webp" },
        { id: 16, name: "ÏïÑÎ≥¥Ïπ¥ÎèÑ Ïù∏Ìé†Î°úÎãà", val: 115, rarity: 3, img: "https://i.namu.wiki/i/sdzSd3LJiE0RXB_b-ut7Xv84mpHt04WIGQPiudgw5DYEyC3q_-pdM4NHEqS6ub1fPYiIoBSLnCyOdUskQgRwLd8dam3mBnBeqZ45mxWYqgLsv--9puOEgXFeXmxipbfUlnODMKtpNcO8e9OCH_AVbw.webp" },
        { id: 17, name: "Ìä∏Î°§Î¶¨ Î©îÎ°ú Ìä∏Î°§Î¶¨ ÏπòÎÇò", val: 125, rarity: 3, img: "https://i.namu.wiki/i/rbnhFlGgeTAUKjLUt7u4j8InRBbpJ0HDW1YqBO_kleF9A2-SSgtxpVC0TxpHVWqxq4PiFr2MR2wyC3_-EfvixJb8WHiG8QOTSvs6hnlGqSFrxPMIWAvDKfc83HakPovMJUbfdjDMKQQhDSa70_w5Ow.webp" },
        { id: 18, name: "Î∞§ÎπÑÎãà ÌÅ¨Î°úÌÅ¨ ÎîîÎãà", val: 135, rarity: 3, img: "https://i.namu.wiki/i/BNluf6BoxVv3dzP27KHjRSPCWJ1E1Gm0-ptIigAuosaNMk-hiLwI7RBkYr8LDox-A5TWGy2TULIzHYM5kYAM3w.webp" },
        { id: 19, name: "Î∞îÎÇòÎãàÌÉÄ ÎèåÌîºÎãàÌÉÄ", val: 150, rarity: 3, img: "https://i.namu.wiki/i/eD_1bw9DewyQKgmckdmG89kMgRWDiMymZKc4w1XDPxlkNeUKtJrgZEK_QOdcEEM7DVw2MlDl_DSQTs4AThq-8QDLquHtonjFVja2B_P1cwFhhmKb_w-wZW7yN1ha8EDD7bGlso3ePbdrKKhFrDa1hA.webp" },
        { id: 20, name: "ÌéòÎ°úÏ≤ºÎ°úÎ†àÎ™¨Ï≤ºÎ°ú", val: 160, rarity: 3, img: "https://i.namu.wiki/i/eQ0SLSqt34qa7xQu1Hydv4WIhMxpT8LsBz-_YY0M5nfm6UbHibcj1MzcxsrROYBrKzqBQ3h0BseEJ2CDJiga_gkw75h4DV46oNxg3b_IBL5LRRtTm-_0W_0tQHc3IOm8erV8HGGa3xpAcgA8TWUiYg.webp" },
        { id: 21, name: "Î∏åÎ¶¨Î∏åÎ¶¨ ÎîîÌÅ¨Ïàò Î¥ÑÎπÑÏø†Ïä§", val: 175, rarity: 3, img: "https://i.namu.wiki/i/lxue9Skl633EnQ93ahuAWLyJbO78bk7DXDBRsQvfcM7wIRKGVwdSSPcBH2NpOMxRg5tNnOQLjzyKQEPnIlaKMZlvp2kndHjKXM4V_nI3pCS-j_Ws0jSqIEiKIaQiy2RDO-NNe7JKmvJD81aND9mm9w.webp" },
        { id: 22, name: "ÏïÑÎ≥¥Ïπ¥ÎèÑ Ïø†Ìè¨", val: 225, rarity: 3, img: "https://i.namu.wiki/i/RaLpV7aajBKlRo_vvY5R8MJqst8fbFk58eI4ek7ceT2XjzeRFb-YbcszNy3gyMwC7c6ULko6i_Bzmt5-WEgr2-xZWYdQXS1rx6633EZupuhgm_h5cAntZyiOc_IouCDqlAWfENWKmXVqactxdEV41g.webp" },
        { id: 23, name: "ÏÇ¥ÎùºÏúÑÎÖ∏ Ìé≠Íµ¨ÏúÑÎÖ∏", val: 250, rarity: 3, img: "https://i.namu.wiki/i/VrKJQEcDbiv8iL1oYrN04VZPzPg5CUuSBXMze1ICFxfeICtZATs0tMdUuUfVlVdFxEkti4TUOgBhdWxcomPLC0Cx4QLRDPB72sYNgv8Fzmpu8ZW6Yw2XDBKlyE1XQkzHuEyzn8EXjJeenRP_ZscwKw.webp" },
        { id: 24, name: "ÏõúÎ≥¥Î°§Î°ú", val: 275, rarity: 3, img: "https://i.namu.wiki/i/gqj4uvTfmLWWoba4-LPqnZsytdsYrQlmplyi_2aGHzpz5RAHVSGDjSKp2Vnv7K_gmiyzL5ljOuXJj60mbMmJTqOqLVzAxofOXLmzx2W2348VK98nEuCIT1cx3DoeSjsV6eqDvBlvUpqbIpgNJC7OTg.webp" },

        // Legendary (4)
        { id: 25, name: "Î∏åÎ•¥Î∞úÎ°§Î¶¨ Î°§Î¶¨Î°§Î¶¨", val: 225, rarity: 4, img: "https://i.namu.wiki/i/pDnklO1zHhHgWxknp_hBapGiuj6Vp1KwdllCe4TlhJ8WjLsQHBio4skkvLdh1wI2krK3fi_QSlqY_KCDEO5bwnyEo8biow1HbF6_Y6C-GHoAzjmWaPEEVZ26LNzp4r6SZJlQzGAwUnJL4BSgQRR4Hg.webp" },
        { id: 26, name: "Ïπ®ÌåêÏπòÎãà Î∞îÎÇòÎãàÎãà", val: 225, rarity: 4, img: "https://i.namu.wiki/i/IuN4WsDgI1ny2zKIwrLaDYJBpYvnnbDpfh7VAqAy6SolmvspE6Wf1LNheXh5B1QVXjalqZs6MyFleb_-rOPuM9wmiKpTKI0rrncsbxu_hPiGQctUh_Fmqc8qm4X771Jdz7G12oEJdbf9BrCMIUeaHQ.webp" },
        { id: 27, name: "Î∞úÎ†àÎ¶¨ÎÇò Ïπ¥Ìë∏ÏπòÎÇò", val: 300, rarity: 4, img: "https://i.namu.wiki/i/mAsRA5d-44d_J6r0dGY37FEMqm6sf6ukuM3S_UUi4DzfMG0i7lI7mBMSqS0KPVPWGj4rfHt1JR9RLdWelQrVS2r8XUjc_8HctS2UVXiS0jQ80HbEUNeaDfp9UQweeGyhHmI8LKehBNN9-WoBYHxCgw.webp" },
        { id: 28, name: "ÏâêÌîÑ ÌÅ¨ÎùºÎ∏åÎã§ Ïπ¥Îã§Î∏åÎùº", val: 600, rarity: 4, img: "https://i.namu.wiki/i/e2Pya7bFyU9nkTgMyEyn7OtVlQ1kcif18zIavyYt1jOh-kFdONh5dqXeQdKGMQ0LxBHpXm9CMznLcsYGcJ_i81fud7-OJa_8gJJKRP8PXZqZ1EyAIG2rEHUP5Sa3jeunb9zGL69zdnCujsHiqgZePQ.webp" },
        { id: 29, name: "Î¶¨Ïò§ÎÑ¨ Ï∫åÌà¨ÏÖÄÎ¶¨", val: 700, rarity: 4, img: "https://i.namu.wiki/i/EUR-MdAX-TRvmHIJP-asHbPfdf7WcGOLzNzIWxhJm05pzcvcHS5rarkbls2gbjAmOLyvDR9KPH6_2qPriM3FNRBmwVHiXDMzAatRUfeld1oVqggv-hNjAJ54kqF4ucWwEbrjbVd6Df56i9eYLF-t8w.webp" },
        { id: 30, name: "Í∏ÄÎ°úÎ£®Î≥¥ ÌÅ¨Î£®Ìà¨ ÎëêÎ¶¥Î°ú", val: 750, rarity: 4, img: "https://i.namu.wiki/i/ttxqJ6zLFaUlnNuktcKXygWQuYyP6PMwLCjT8CwKpzzHPksyVlECuhORVxNz0a4DHKJpBlyNuIb8vZr11WwEkk7NOFOYx2X_awOr1Leas90BFwGpCYDOVTrzWRcK_5ubOoCRkM_WRUQYgX27UWwBHw.webp" },
        { id: 31, name: "ÌÄ¥ÏóòÎ°úÏïÑÎ©úÎ†àÎÖ∏", val: 900, rarity: 4, img: "https://i.namu.wiki/i/8B-uA2BRI1XsmTdftMeJuQ1EgM6BgPHYOoks_rhK4PwGE7ytTA4Lcc5mNmtfKF16ZbS1e5-nyAMZdvff14WFNV2e5WL8feBNDeFZ6o4G2AV17_iL7V3vyI0z3HrfGnN3JdNPl940I5fMdhU3dg1f6w.webp" },
        { id: 32, name: "Î∂àÎ£®Î≤†Î¶¨Îãà Ïò•ÌÜ†Ìë∏ ÏãúÎãà", val: 1000, rarity: 4, img: "https://i.namu.wiki/i/4XYlW5p3GADd0Wge2_q_d0-z32bMEwwKC0BsRRV4rMoxaxXMwTEuchquBOoTBX9C968WakIFZ11Jp-8yxKvpNvXB4L9wTvJHm86A02My79OFFhen_fFJedp9PpSdh0gxCgmHbJjiSM-4hc6UgujiqA.webp" },
        { id: 33, name: "ÌîºÌîº Ìè¨ÌÖåÌÜ†", val: 1100, rarity: 4, img: "https://i.namu.wiki/i/bw8Ch18g8hw0tm5g0uxYwV1sDa2CeDMzQ9Dy6254VqN2Uv2FV4M4XeKdlyymeQlooBr2_7mfBQnSV06UCoQ6xqx-u6bEeXhNA8HLUV9GiFuxuKhgnUywO7RA98_5_q5HygyLexcxDNVpmLGf9zb1TQ.webp" },
        { id: 34, name: "Ïä§Ìà¨Î°ú Î≤†Î¶¨Îãà ÌîåÎùºÎ∞çÍ≥†", val: 1300, rarity: 4, img: "https://i.namu.wiki/i/rhFOL2E0tRV75uivYZerrH0N_AXP5rpOssZHd4cGht5RZWJu3dXMZ0-pbkbke718x2b9XdRU8RYkn52kynWXujysH8LCrpz0AFZCpiqeqA2N6YnLlfF-G8iMupzrgsWOno9SuaP0e9LaNuggLTPIbQ.webp" },
        { id: 35, name: "ÌåêÎã§ÏπòÎãà Î∞îÎÇòÎãàÎãà", val: 1600, rarity: 4, img: "https://i.namu.wiki/i/P6Y51LlYYsQtT-uqL6KqVDNSFl7vnCMjS4WrqIWv5SWX5Ujk7SUlRIklU0ZZqwuDzagu0b-LBq3OJ_k8SRP6eF6Dj4iM012gSEwJaGlimzzo80nBGJD1FEGJdc0LAQKCPakh5tYzKTJyP_9D0gGiWA.webp" },
        { id: 36, name: "ÏãúÍ∑∏Îßà Î≥¥Ïù¥", val: 1250, rarity: 4, img: "https://i.namu.wiki/i/UiA742TtaMbuaRzCWUAILNPjLRLMoouJDtO5wDU3VO4YYT6thiq7sLb1OwfkcUJJMULWQtVT7t05Q0RMOhpv92rjtEVyZfT4dsfDwPW_ZS__EgX9cVG5kvmjs3kHcZZpgUQ5pZsnh6I5ke7nlfmBlw.webp" },
        { id: 200, name: "ÌîºÌîº ÏïÑÎ≥¥Ïπ¥ÎèÑ", val: 70, rarity: 4, isFusion: true, img: "https://i.namu.wiki/i/T-znPeVEZu_qo68FldA317aLENa3KUb0kdcQ5dWcaBkLSIDSW-uy5IkuMy-dnEnMrsPV3MhF66DyGVdPRacN_qtXgMKp-3qfY6xGzK7Z1wo2BrpJicaOE6Z3vSmWODY3dxgMYnMtGjIB-UxT71qSsw.webp" },
        { id: 201, name: "Ìã∞Ìã∞Ìã∞ ÏÇ¨ÌõÑÎ•¥", val: 225, rarity: 4, isFusion: true, img: "https://i.namu.wiki/i/ktjMfEbDVjejSrNUrpqFm4DggATId4tqR6y5TjtW2V8NLU0l5Uyt4pppOD2TReffhG8Pto5W8aF0_NYSQY6KxOhHKDXCMNtZo3n_WYJjwaIVfP6PevoGS1haHt1ck0_ALGBMTxTxRiu8ZVRvS6XwBQ.webp" },
        { id: 202, name: "Ìé≠Íµ¨ ÏúÑÎÖ∏ ÏΩîÏΩî ÏãúÎÖ∏", val: 300, rarity: 4, isFusion: true, img: "https://i.namu.wiki/i/9t0IJ2WkcKroSY1frrOI90BJP5Cgt9SF52XbMbS6B2eZHEf8FS7PjvzXdBV65fDOIOLHmUIO2twgxlMKNHRIFxMzIApOzi34awtAomwIJ6E7hJeH0iNwi-ZPS2ultg9tYlM3do1GFD4rwAf3-dWXVw.webp" },
        { id: 203, name: "ÏΩîÏΩî ÏãúÎãà ÎßàÎßà", val: 8500, rarity: 4, isFusion: true, img: "https://i.namu.wiki/i/XgAnddFjYcm5m2ygSgZgnGYCgf0Nemd3qdKLTfWvtNLK5r8u1vAf0Bb2Vh2gyPtDFyjplSsbBiVwSG75KIeugg.webp" },

        // Mythic (5)
        { id: 37, name: "ÌîÑÎ¶¨Í≥† Ïπ¥Î©úÎ°ú", val: 1100, rarity: 5, img: "https://i.namu.wiki/i/P2evI_2qviMpSpKHROEoqapUAYwJ3Ka6s01503zNLW-49_k_35BsoEZSsSyqYTl5HVipQMQc2oWHgQIm6eFJE1Nu46BXUpseHpbaOkA_hl0E_LiQdlAQidl-YbbT0qDJcWBoMr3CcisEtiHfgyLxPA.webp" },
        { id: 38, name: "Ïò§ÎûëÍµ¨ Ìã∞Îãà ÏïÑÎÇòÎÇò ÏãúÎãà", val: 2000, rarity: 5, img: "https://i.namu.wiki/i/GZb1CqFzXc5wMSY-hxzziv4T1PUfghVEYvGn6DWtxVW9bWw3RDzP9GoW0LFINY4QB2h2IsJJrshfENN1l2757ATFSDvjui8HmEk6peDuopq6qa3zvSChSeuppcAvOrwiy7OdW7c8DTLS_vgx4macIQ.webp" },
        { id: 39, name: "ÎùºÏù¥ÎÖ∏ ÌÜ†Ïä§ÌÖî Î¶¨ÎÖ∏", val: 2150, rarity: 5, img: "https://i.namu.wiki/i/Qar0_wwbImGqHtcHRjnHdVd3W9E95i6OQ1hfD0DCfuLNbe8U5QkKb-a-ykUVqyd-3-TKnhJJfzH1mCkEfnHj8NnXr292-vaMG0jDCM59O1VWAvfuzbL-BBKUGl_VVmgUKIxe7u-R0-xbtSRP_IzvtQ.webp" },
        { id: 40, name: "Î¥ÑÎ∞îÎ•¥ ÎîîÎ°ú ÌÅ¨Î°úÏΩî ÎîîÎ°ú", val: 5000, rarity: 5, img: "https://i.namu.wiki/i/qwDw0lqcgpWmgYTQ2lJSVqK8QAbExzBOzMibpjP2-OAONuqFW2ZrCUKzSraJaZygfjYqfdKzj8c__gN6diLM1Fvjj_zup0QhVcAk2xAl4jA457s8ViWe5ag13TeLadtR3xsohQMddH7Y_mU7RYuE_A.webp" },
        { id: 41, name: "Î¥ÑÎ¥Ñ ÎπÑÎãà Íµ¨ÏßÄÎãà", val: 6000, rarity: 5, img: "https://i.namu.wiki/i/K_x4AuKyfqczzpbWCfDl9SUa4W3UzDacV_0BFALqf8jl4QUvA00dluURxcNQTjkGHXdA8FKaMFDSB9YbeOCzbywjPRdOiQJACDVYnQ1yJsBbVizPc_Jqkw-EymdEAP7vQuWBBuK3S4yKaWl8AgMSUw.webp" },
        { id: 42, name: "Ïπ¥Î∞úÎ°ú ÎπÑÎ£®Ìà¨Î£®Ï£§Ìà¨", val: 7500, rarity: 5, img: "https://i.namu.wiki/i/AwX_ibePgnKkhHhs1DIzSgwYF7oTc1fp0XMtl9pYmTSYLM46IKt2vWmuQfJcNsNU8peEjagJSPY_DZe-CvRVn8Mze6Zphe4tZ0x4Y5Gsi4HB6wlkBYXKTygV-p36Dh2Lm7xyGo-OwG3cdsUzoPra0g.webp" },
        { id: 43, name: "Í≥†Î¶¥Î°ú ÏõåÌÑ∞Î©úÎ°† ÎìúÎ¶¥Î°ú", val: 8000, rarity: 5, img: "https://i.namu.wiki/i/COoDuj2tXYiuZZQJFqotlefk4klpnJMGFbw-TJu4A0KqmgwQPFREkXh-Zq_nH-uEBoRJOkAH9d2cXnCrRQaf9ffzAsaNXMUxpXa51zOwTngUqVobljhCJf3qaNBmxrlkGHPGvaRbGGtGfaWp6PmVIA.webp" },
        { id: 44, name: "Î†àÎ°úÎ†àÎ°úÎ†àÎ°úÎ†à", val: 8750, rarity: 5, img: "https://i.namu.wiki/i/jJv3LNlXMELbCN1ON_YQRs2m5c9oh4bmP3x-n-LdRML2O7gh-kgdUXerv_kErXrG2xDHHQzBeacw2wwYzvV0PfKaPeY5FawzNBP2gfbLZEhVBiQ1ghtiE4mR58nVhgbZj8FJ2sPk1Nxs3Mbb7cTH3g.webp" },
        { id: 45, name: "ÌÖåÌÖåÌÖåÌÖåÌÖåÌÖåÌÖå ÏÇ¨ÌõÑÎ•¥", val: 9500, rarity: 5, img: "https://i.namu.wiki/i/4Oj0c-76yHJY5KLi9qxDpgiX2gEMd_sAzAoE1QJ5QiCkxZ06Yca7SIMkhRBJoV7zRP4LTl_NnqjEB_mvqQlOoWr0xGYputCoegiQvp0H8XZtDNYhBP0ETF5qGt8di5foKZxNaSFcRV_0aizBeR0hzA.webp" },
        { id: 46, name: "Ìä∏ÎûòÏΩîÌà¥Î£® Îç∏ÎùºÌé†ÎùºÎëêÏä§Ìà¨Ï¶à", val: 12000, rarity: 5, img: "https://i.namu.wiki/i/IzSidggkryf7ZYH4PYz2jz9LnZtV_diXr6AxKOHXjLnp0JfinXj5RN70mP50DtjO0LLk58QxPZY-00rvhkfq65Y-L_jI6Er8y0BhqURV5PaXj6Yjc7WgaVxUyXDVMF1zneil1JcWskjLMwyd9ynpWg.webp" },
        { id: 47, name: "Ïπ¥ÏΩîÎ¶¨ÌÜ† Î©úÎ°úÎãàÌÜ†", val: 13000, rarity: 5, img: "https://i.namu.wiki/i/rneIZ3uGzl09xVPUnzG1yrQhCj8Pa5FnHxZFrE0Kj0ho5ezhCVxjD5PZKCy1JVNhLmPYRkfy1rQc56iTVSOj9NsMrd5QsKZ_LVPAQDN2kQbsGSmuVDqB6ojD6xIXlOGLSMkdRdI2Rlp3mfdnvOQBdA.webp" },
        { id: 48, name: "ÌÜ†ÏùºÎ†àÌÜ† Ìè¨Ïπ¥ÏπòÎÖ∏", val: 16000, rarity: 5, img: "https://i.namu.wiki/i/Jf3Z4jQZWnuiyzEmhBTjkbGLr5YVzfeorAUhZK51jI1kmLP89ieQir1JN-kBBVXm1n7BUlAegLpWD5Ltl9xrQDd3TXXihD80J8_P1WHux_5-A5-0XJC01aobglOYLk49y5BDPcm_AZYz6jA6MsI7bA.webp" },
        
        // --- [NEW FUSION] 16 Items after Strawberry Elephant (ID 83) ---
        // Originally Mythic/God/Secret, now Fusion Exclusive as requested
        { id: 90, name: "ÎßàÏßÄ Î¶¨ÎπÑÌã∞ÎπÑ", val: 12000, rarity: 5, isFusion: true, img: "https://i.namu.wiki/i/Ohvsvo6TaWAnMNonfgxqzcDDA0RA-mbTWUUmXMMrwVqTr1bJxcS5gbdRcA727yia5ZKp3PnUhqmX3oKLg6J712fqDDrGbIavvxhpwivu4InjgLngAxIcLbk_ypjhm3-zmLJbJW834LIIxSvtRNkyjw.webp" },
        { id: 91, name: "Ïû≠Ïò§ Ïä§ÌååÎ≤§ÌÜ†ÏÇ¨", val: 16200, rarity: 5, isFusion: true, img: "https://i.namu.wiki/i/Sp02iaDXzmsVgtk7ZGEHp72qWWFnLLUvptKArA8Tj5K1PiykE79JRyF4VaOcS9AmZbWojt8joylhghuMv1JhpTwlaee6ms_3O1CN-3peVdymYhdI9O1lEE40g7JaWLtXxD-8m7YQqpvPMKvcs5Wypg.webp" },
        { id: 101, name: "Ïä§ÌÉÄÌè¨ Î£®ÎØ∏ÎãàÎÖ∏", val: 8000, rarity: 5, isFusion: true, img: "https://i.namu.wiki/i/K9DZDyltY0IfKodhnOCAVuM0C00jUGlNoNQ3tgr-6jxLn_gV-YmUjWslaUt2dppLHllwbniiX2UE23rVdKfxU5FOM3mTIRGvlWLeX_iOgY5-ymARjcUUM-OW2uHLip1LTbcTd5vN0r3UdWesRKFXyg.webp" },
        { id: 92, name: "Ïû≠Ïò§ Ïû≠Ïû≠", val: 150000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/NgixuNheu5SYJC9Aepqm4_iB3uLlVz5D-4M5Jsps52OG0IZsX_9S-R57yS8tPOjekS44Yzd6tg0DSWKRgQypF3fjy1EnfNaMfZTejdvAnv2KIj1EDuabxVKAc4lIT9arnk9-OF0un-exSbYz8dc0kw.webp" },
        { id: 93, name: "ÌîÑÎ¶¨Ïò§ ÎãåÏûê", val: 265000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/fxzjYyX9p-IOyNFl-UZcla4G8XJ5Ha5ukrg6gEEH-sDCT_bfowOIvDDDQKNhg4ZNcRFjW7rxE8f4f8f_T4ELOZ49lG1tCBhKAu5N2XEnVp9aX4QIRMVJApFeStDdP34fTsVsjRjzbPsXm7vPsS-I5w.webp" },
        { id: 94, name: "ÌÖêÌÉÄ ÏΩîÎ°ú ÌÖêÌÉÄ", val: 292000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/KQTgHghjVwLpuzHdyTjXQHiCT3yssZ0vwG1qlFTN8EC2catQTaLUUjo0Q-gXB5SDsS5tEhCpfVySSHfMdrGjSoDADN-9VZMwSgYh-ew6-xd9C-PQLY23vnHJNyoaQJj6l7LmcY1wtwCNcDOvvMDfMw.webp" },
        { id: 102, name: "ÎÖ∏Ïò§Ïò§ ÎßàÏù¥ ÌîåÎ¶¨Ï¶àÎßà", val: 280000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/K1IHVJTVlM6ds9XLhTDz00290ajXHafLsrO3uSv8aPobVQWMYR44v5hABG6bKCPsmDo24YbEqd4tzpBoAUgDXwYGrdmZKv10N8cwkyX4KYdkQLARusKujbdYsstQ1GaITDut9eE2oGJYafOtC4ff4Q.webp" },
        { id: 95, name: "Î≤åÏ≥êÎ¶¨ÎÖ∏ Ïä§ÏºàÎ†àÌÜ§ ÎîîÎÖ∏", val: 500000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/wF_RVq9ccVqG551ChBdcdeLlQwJQ8yXGqHlWUKwjS4YozkmNdfFeEatE-9LlS4IMfNWZJiPRiIa_dUE2s8Sw3qGHXaMl_sTgAW3l19ADSdWSvIN9Kvk8ka2iyEZyI0kHq4qgjWBpMLQUK69IFRODCQ.webp" },
        { id: 96, name: "Î°úÏä§ Î™®ÎπåÎ¶¨Ïä§", val: 22000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/UefalXzGfEwbLxHOTULBa5nGtNyrNv8-t-k95zpg9I1MpUt3lwv0ecI2M5rGU1oItua3py9r8A2ZAEWxObxGYxCq8nGcwZztjk2bPhwDX6ReJUhDGxcFh5Z-aIkDPYLR4m-T8VySXz6crh5quUhVRQ.webp" },
        { id: 97, name: "Î™åÏóêÌÖåÌÖåÏù¥Îùº ÎπÑÏãúÌÅ¥Î†àÌÖåÏù¥Îùº", val: 26000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/wXP-sZw9jfW1YBa3bpXs7jKs7fLqc7mmAbJEMt7L4kGd7FFTk2l2T48K2qX0zZotbRebholxb1pJ1HjNsN9u1e7EjDqm-X1bd4dSOZjolV23WQ-y1Tjv_90Ffe0hmHu5Yn6z2KLV-5hfYTySZnwZsg.webp" },
        { id: 98, name: "Ïù¥ÎπåÎ†àÎèà", val: 31500000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/3CAG2bKeOH9DnfsEO1a4mY6LsKG3VUpLNBuRaMVAQ9m7fjOjQOTkiXmxSLDVd84gMJ2C5YQj7nvWTKQbkZoypGFcqe6gY-6SSB8oKLCQ2DoUsEzZS-X2vUh-t6yRVMEWtZIIX7qTDC4v5MioC2YvyQ.webp" },
        { id: 99, name: "Ïä§ÌíàÌÇ§Ïï§ ÌéåÌÇ®", val: 80000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/hbLhirMs3TcPbKN771HhNbfmOtoQEzEjb79ymhSUvs4UJbnzV_4xwGsuuamirdf_qpmrI4oiB6Zu45e6zsdhf0pipqXjE0pTk2MyzZd9ssDq4eSz8gKZH0I_vmpR9DWqvBca_LYDOnvyq7JSaieNDQ.webp" },
        { id: 100, name: "Ìï¥ÎìúÎ¶¨Ïä§ ÌôÄÏä§Îß®", val: 175000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/en4jAbzcz1fzMYZGBQgocFjY8LepZOiP-t7WrwlR8GOnm3AvyGjvv68VmuEate577OtjCqnfsurDVLxurxBWqZ_O9xt-vEPdBgbTv3tZNfptKO-m2dVgBLA5fpFdF-N9x19G0Cq4_JI8HGEy-Eu75A.webp" },
        { id: 103, name: "ÌîºÎ£∞Î¶¨ÌÉÄ ÎπÑÏãúÌÅ¥Î†àÌÉÄ", val: 2500000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/ES40Fc79wsFkzVrWpEV4aGUG9pjVFo7mBeuwMHUnBNmkdD9a6-oP-Ueapj51_ap7rtvn0tEQQyABb8RblihQtWQwfyOvSAqJTYbeDYhhzTFyUvKA7PWDfISS5UGmBLALNJdsBxWf2jDmuDwBFTmloA.webp" },
        { id: 104, name: "ÏàòÏôù ÏÜåÎã§", val: 13000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/GIObO7CKEX4_u9JOTiPkUW_94pEk7otJl5uqOvdTshVuzoNO2hXxhZKkbPZfCN_lYlqD73P-ffyYfTIzxJmXZqzbwmpeBoO0FjzbWwiQDJniYZDgY4AqMBZejx0b5fAns9y0SnwcRInxNwgioANamA.webp" },
        { id: 105, name: "Î°úÏä§ ÌîåÎûòÎãàÌÜ†Ïä§", val: 18500000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/K5Xrf78HO693JpFJWXzF7w2Py1FWa7yfM7YRKp_ghh5JDa0znu9DDhAG3WLg07e-eKmHVuoozOIh059c4up9M6tvnpvCRXZa1Ac5y9mXsvYs_Nc6Qg_B1lUcTlGH2AhLLij1rgL5-UXG1r3AClxAdw.webp" },
        // --- End of Fusion conversion ---
        
        // --- [NEW FUSION] Additional 4 Fusion Characters (moved from Secret) ---
        { id: 106, name: "Î°úÏä§ Î®∏ÎãàÎ®∏Îãà ÌçºÍ∏∞", val: 30000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/WB1m6l4ZWUrHp_6g5ee2jsmoCf1rw6q-eN3YjYMxxstkN3UJXfIdSIFr9cRr7zNYDvf0vrRDtxJa6tZYDGaTuAIbHNGl4sNV63KNS9VezYvAdCTXaiaxHKL8k-Zr9_Tsuodn-tAEE0rO1NkJu60mag.webp" },
        { id: 107, name: "Ïò§Î•¥Ïπº ÎûòÎèà", val: 40000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/dDzNW4_seDFMf7Ci0gFh5974oLmGvhewad_pLTDjK2_D8QjAyY7gClCpsBy99RVS4riJ4tqSYGWjsROouQIyohWHdoTIhkhnX1o5sUw5ImjjPw90yBh9TKZmVCqLmLLPcThUQZBV8kR1DwHyUuEMUQ.webp" },
        { id: 108, name: "Î°úÏä§ Ïä§ÌååÍ≤åÌã∞", val: 70000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/hn0Qd-FKQSbfZS7mQXJg6e2hek8DWr_bpcK3LHdIoehF_sJTABnHDomV1JECDC-oYR1akw6ckeEDXarKVWtVvrZTBcyLSNDQfET2hMvMuxa4iqvzqeI_Q2bndf43kQLR63eUmUlPlIup9NdjKhMdlA.webp" },
        { id: 109, name: "ÌîÑÎùºÍ∑∏ÎùºÎßà Ïï§ Ïµ∏ÌÅ¨", val: 100000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/rCbeT09Jq5H-qj-sQRKhcWYiWifIEYt96wQyEIT2reVzIu1AeiTPnGd104K9eAVdBLR8spvhPqTlr0wl75j8pnGPFm8YSvggfeNZJGL0jVliFQblKC44tSaX4-GwLhdeB_LLRFyMsmHVY2icFKsgug.webp" },

        // Fusion Exclusive
        { id: 204, name: "ÎùºÏù¥ÎÖ∏ ÌïºÎ¶¨ÏΩ•ÌÑ∞", val: 11000, rarity: 5, isFusion: true, img: "https://i.namu.wiki/i/TgmVXio-zCSk4Xxt7ZbxTlnpOIXNGq4F0QImJw5cJniLvTXWt3CEdusVA08SLVdCRwImN4VwAmjOLIrwhXCoPPZylG1MfEHfZkjd82UBDpY_cN2yTnUoVV6hNONkllLTLFPivXEScHOYVEy32Kjbqw.webp" },
        { id: 205, name: "Î°úÏä§ ÎàÑÎπÑÎãà ÌÜ†Ïä§", val: 12500, rarity: 5, isFusion: true, img: "https://i.namu.wiki/i/i9_Rg55NwwzK8HGpkmTrAgADDz8MHii9J9aCLUBIn9Wn9KxmzmyKMqolMVQ_W2d2qKh7ffLo6mGnfhpxTeW4NWMCITqjVHIovs9Fvsjo5WI8pE3t9oTsuiQ0isrH2aK18IXZAvYs8Zu5FhMl9vFMRQ.webp" },

        // God (6)
        { id: 51, name: "Ìä∏ÌÉôÌÉÄÌÖåÎ°ú Ìä∏ÎûÑÎûÑÎùº", val: 10000, rarity: 6, img: "https://i.namu.wiki/i/WbRyUWVK71lL9dWJ6QNBpyUQoyzQBZDQbSzD_cRPFZhrZVfMnZniB1YjYkzc3k6AfPcW2HB-A8fVay4UwYy9sxOOscUoAqXnUvMWrIibEArTJj-2Hf7ygIGfChBKh2mK0em2qt4ZTrlEgYisnidorQ.webp" },
        { id: 49, name: "ÏΩîÏΩîÌå°ÌÜ† ÏóòÎ†àÌåêÌÜ†", val: 17500, rarity: 6, img: "https://i.namu.wiki/i/koPBybXWTxWKrtVo4bY3FDFYUcOoc02ZXVbDB7QlOsZpKTWANxmJUjEPUT2q_gpDOeZea1OPifp_0ZhAUW837Jj66j35Mz06mcF6Eb1XgB9Y3maCbT1irllO1qBf_GKs21RNl1j_4nxCCuUwfvHG8A.webp" },
        { id: 50, name: "ÏßÄÎùºÌåå Ï≤ºÎ†àÏä§ÌÖå", val: 20000, rarity: 6, img: "https://i.namu.wiki/i/8fPKwHYxzEuJh6EF1qNeM5Wy52_5ThiCL-byKgMd3OBAWmUo3ZSBnvCx1NE7ZXfLym6Ja5ne8xNyAXzKc_AZrkRiIXHVOedP9mxKUb9GFyoqxQnMlk9bPdnLaz27HEMxt22hmZUtaN_Jxif0xGwUtg.webp" },
        { id: 52, name: "Ïò§ÎîòÎîòÎîòÎëî", val: 75000, rarity: 6, img: "https://i.namu.wiki/i/xvof4Iq9oh_6BNOiFUqaLWQtTntJYQ1piWzOgdhYW_9IIg_Io43WMXsP-zfq4j9szUrnVUgEDxpjsQvQnE2vI7KpKZs_ftaI8H59sN5w0648C1hceyFEQvKognfrRHMkKqhUQVQ09vM4NS5YGAu3Rg.webp" },
        { id: 53, name: "Ìä∏ÎûÑÎùºÎ¶¨ÌÉÄÌä∏ÎûÑÎùºÎ¶¨", val: 100000, rarity: 6, img: "https://i.namu.wiki/i/JzdXQiaHXC8Qb-1GPXNJAR6s7HOWz33ooRAYlB73n5z8Vleg9SQdfXLAFHZRfG2mwpTAYmcIRzoJY84aNrIauYwEuguKDvxxq64RT4Pv613gPlvIcohA5f-qixKHz6fMK-7zAOXY8k5K1ykQDFHviQ.webp" },
        { id: 54, name: "Ìä∏Î†àÎàÑÎ°ú ÌÑ∞Î≥¥ 3000", val: 150000, rarity: 6, img: "https://i.namu.wiki/i/UrhZ3POgmnWPlmiX6CA1TYjePe9UDIdAaIGwJXeLDPXSzAaWpOUXEQiIX9mWiLsezbR7sVgCc5fFD9L3gCT8QU9Ty_xwRjEsoKh6fmwu218P5OyZ-Y1QfZwPfabIkP4jJpTqYyhbdEhvemIhHQLl5A.webp" },
        { id: 55, name: "Ìä∏Î¶¨Ìîº Ìä∏Î°úÌîº", val: 175000, rarity: 6, img: "https://i.namu.wiki/i/NnyxxU3lJfm1V0mT9PZVeo9M2xgfB1sObjGfS5cbKmQfYDP17i8ap-No_KFlgm0nv3mgfqzmD346ljfL_X7Y2V5zwbNlNzbe9Hw8JyN_5kBIFkDXX7ByPOwVpOa1oTgpaJu-5_B-3aZuBUaP4cC45Q.webp" },
        { id: 56, name: "Î∞úÎ†àÎ¶¨ÎÖ∏ Î°úÎ°úÎ°ú", val: 200000, rarity: 6, img: "https://i.namu.wiki/i/jYYzSjnAf-nRT18CawgVcKXLoUXY1I8mf51GnI3tK3y2vGZ--y0fGr07v844XLDuEQRNUS5lVuUoq5q_heXYQOkksqYnJ6FHwx31cPBhPCYt1fTC00fSYtNq1ym2M5yuHZjksSx8fXVSfmeQxe0Jyw.webp" },
        { id: 57, name: "ÌååÌÅ¨ÎùΩ ÎßàÎßàÎßâ", val: 215000, rarity: 6, img: "https://i.namu.wiki/i/5md0i63R_MP9P-fHHEg0HITWBu33H9rQXxUhsz57k5EOmV1FLXFbxkev3lW8jQ7MP2fyCNQT2JOXUfDCrSKikhPU-qrOG4Ol89KERLFhth9U3lkkZ9WPa_bpcKGlv-UsHvi0B0Q_99uWcpA3G4MN-A.webp" },
        { id: 58, name: "ÌîºÏµ∏ÎÑ§ ÎßàÌÇ§ÎÇò", val: 225000, rarity: 6, img: "https://i.namu.wiki/i/5DTtOoJASjK8mJVTtN-pfDuKZ0hJok0UdaIw6D74KUTPhGEZHea3IeJTA2LReEhVqUYp505agD5wFTn4MgfKdCuHnuY1D6vNBxIpmd9HWpnQq5Urqq7ZVMYmtXD0PE1fq7wCctq55__JS7Xn13v9gw.webp" },
        { id: 59, name: "Ìä∏ÎûôÌã∞ÎÖ∏ ÏÇ¨ÌõÑÎ•¥", val: 230000, rarity: 6, img: "https://i.namu.wiki/i/jGKPVvG8JH4jnOjtVM0QkgLTSjtL3U52u2RwWVmwbWy0c88rd6veJtnxKwp0Df1aqo_SHWmRlciivUotJFZxTtBEaLEthuanj1vq7lXvDn9VteW_hWJD2BZw3Bw18o1-0IZER7eoWy-IedEb922dKQ.webp" },
        { id: 60, name: "Ïπ¥Ïπ¥ÏãúÌÜ† ÏÇ¨ÌÖîÎ¶¨ÌÜ†", val: 240000, rarity: 6, img: "https://i.namu.wiki/i/tblb_plIJe0yJjF91EpT_b3x3_mEWKug8GNnymn2rtX_1ujLrPT04cVAh5v9HkhpwH4TCck-S9en3T-JwPXIxnYZVFu4FiDfzx1Qmlcom7z3k0Nots2-SFoAGhBKNYjabCta-PVpDaVo7fet8kO85A.webp" },
        { id: 61, name: "ÏïÑÏø†ÏïÑÎÇ´", val: 245000, rarity: 6, img: "https://i.namu.wiki/i/8NlNhsUE7T3nLL_p1doppNWIAWimMVd9gr4kFbsLyvIW7kZnnXvSszLuT0G1VKfQK5GFaJoiL9ypNSz5aqgdEqdvUGHwAPodPp2VldtoRSgb9tzpiaCHN9jiXxf0DGuyKAHrxRp5wPaFSGty7dicuA.webp" },

        // Fusion Exclusive - God
        { id: 210, name: "Ìà¨Ïπ¥ÎÖ∏ Î∞îÎÇòÎÖ∏", val: 100000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/Y_2-EaJ6WaSQY7ZsLlsrQ0BjB8Lk5bYjzf3VP_PONwu_B99rWiOEzPyNGY0k8xy4AfHQF1IsXVEVPG9FONOBjPTRuRQ4x3srTxTWAAoGLo-KtE4Fpn3gD65_yN5JHKAKADIc3r7OGAY57nUxH9V-CQ.webp" },
        { id: 211, name: "Î∏åÎ•¥Î•¥ ÏóêÏä§ ÌååÌã∞Ìíà", val: 225000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/4Irapokd1rHz_tNpIIKBw6bNfAhItD-IyJ8rTYv7H8WccRtH9BDsPXfpTK5Dm4V8VOnocgCxQhfIc5of_dSukXunf6kceuP-KPcMo9wAt0qeGlX2zzcGohUkG7pXQn6rlBtCcdaU8yCrtx0HZmsDsQ.webp" },
        { id: 212, name: "Ïïà ÌÜ†ÎãàÏò§", val: 18500, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/js7fKxhfkmzSmaLxSSJ-t-KZXYim8b4QQF06HtHJI6GP5V7RvMEr84BV-HjYdxRgi3Z649WQkKfSwGZv-ip7oA.webp" },
        { id: 213, name: "ÎùºÏä§ Ïπ¥Ìë∏ÏπòÎÇò", val: 185000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/hNTCA_Hy-itkMdGScfcJtu7VleJW6R-L1iRs547O3BZ8bYpfvxRLcRFV5nG6hByCevnXAkLT7GH_OmNs8E7VCznv5ITpXXXEwIXCyqKdL-WTBfoxcHcuhm7uirKnS7MIejIzf0XCNe_7xAJ-nvJOYw.webp" },
        { id: 214, name: "ÏïàÌåîÎ¶¨ Î∞îÎ≤®", val: 280000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/4YAPuZUgIegvBs322_FH4uVMvproEqi9B4ACCHMYcjNLqy4UviIqZhs0hlxjXKxmS3pwsn-vrO9q4DdLOOFkSusauSikSmHM7rmzIQwOsNecycqVIxyMX1ZglND4TLck_rfxRmoA0Hu7US180yiWzw.webp" },
        { id: 215, name: "ÌÑ∞Î≥¥ 4000", val: 310000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/skDVgyErKxGsIJbh5N1YxD09bE0imagjSBG8kwauZnFVj1yqHVfpMYTnKlRjbg9nMPH7Vslnq4swYKi9s06G3Wj5w7_5IIHN1egF9OGNJF0HEguWtOFqm0pP8vW34dYruuFLjnO9KC7rqNgB1HR3xQ.webp" },
        { id: 216, name: "ÌîÑÎùºÍ≥§ÎûÑÎûÑÎùºÎùº", val: 400000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/DKkUpCxoa6y0AUJp9xPmp0PrYxGmGu6gf7A6pnXa0dJx1SpoCKlLqRkjUzQoMTokrCDIreEY4JoSIMdSfFhOLY8goD7SBCzZguLBFtG9U8fW_744JQvudVg7-ISUMYLoKrHAGhtbk4taquwGMRR-hw.webp" },
        { id: 217, name: "Îùº Ïπ¥ÌÇàÎ•¥Ïø†Î•¥ ÏΩ§ÎπÑÎÑ§Ïù¥ÏÖò", val: 600000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/iTXNPyoZ5JG60iV9tk6RiV15WMpvQ_Hu7n9Y5WOIw8wMdUNJBCfWm4pmeAH1-50j0_TaQWaH0fCbxh3q2MKuOWeO7hcp1Xm0FS9bwUwu_miHga8eU5wyny15Cpl1B0nA2JXdi9hRcCCwPghtaDqtyg.webp" },
        { id: 218, name: "Ïπ¥Î•¥ÌÇ§Î•¥ ÏÇ¨ÌõÑÎ•¥", val: 800000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/pjhRhKwSB30eyNMrdUy5oZnfa3VR4Dc2SuGTslp8Ba8GIY3j72ejE1jf4o1NR0pDZipF-Ht7UQ5a8uCKR_Tjz1P3L3zSYorgEFOCHkbrtnxf9xT_5T2MNbSfT2cFO6NvhzVK96PzNDmKk0yQzpsKQQ.webp" },
        { id: 230, name: "Îùº Î∞îÏπ¥ ÌîÑÎ†àÏ¶à ÌîÑÎ†àÏ††ÌÖå", val: 600000, rarity: 6, isFusion: true, img: "https://i.namu.wiki/i/bYXXz8mXeyp21Z0ocfF5_rSPbzqBEkpZmgRMRr5ohJNDFFSHfbhwUjNcifRA7EQzdYGkxTA0tVmm0RhnYPVTa8TxLUUGp_wwMU1pL-eXddpATgnJqoCPsIC6gkD7xpfAlb7Bl3uVsZLu-yjyQspsZg.webp" },

        // Secret (Rarity 8)
        { id: 62, name: "ÎùºÎ∞îÏπ¥ ÏÇ¨Ìà¨Î°úÎÖ∏ ÏÇ¨Ìà¨Î£® ÎãàÌÉÄ", val: 275000, rarity: 8, img: "https://i.namu.wiki/i/mUUBoS-_avioSN-eVRxbfFz9FFWotC3RJZObWrz1rCds9fm-7QtjPcK8-b-jHz_JXVb9Cl2WfHlPbrE1WtNnx8eoadw4dxHGYFp_ifZWLZhY5B9e4frXwwwhf9gKXmP1FoXQTt7kf4NIsjh5tNgOdA.webp" },
        { id: 63, name: "Î°úÏä§Ìä∏ÎûÑÎùº Î†àÎ¶¨ÌÜ†Ïä§", val: 500000, rarity: 8, img: "https://i.namu.wiki/i/d6kT7psuENTkY219KA5qN8IPTN95-BlamK7gch6SNFTszJl8okZSTfJmpC4HhcUKDSsJzY7K5rr3iL2dcS__vkyvNyoVimAVD9avRTSmdxoX5m7jG3IlbCrWrvDb28sSI3jqD_-RSH-NzynlChWKZA.webp" },
        { id: 64, name: "ÎùºÏä§ Ìä∏ÎûÑÎùº Î†àÎ¶¨ÌÉÄÏä§", val: 650000, rarity: 8, img: "https://i.namu.wiki/i/k5VzkZUOTeN-SSn9K2kVRPzaGIpiV9ODTwpxiCzLJ1KEomuL7sSgBSDjyQHwDGz_wQLmM248YTYKKO0tvzqhEUBifCOu_hkoCPWgAC3kXUhskyzokDRE3U7MiAY-8GaFsBK3H1pmHPR-9Pu6PetuTw.webp" },
        { id: 65, name: "Ïû°Ïû°Ïû° ÏÇ¨ÌõÑÎ•¥", val: 700000, rarity: 8, img: "https://i.namu.wiki/i/TXqf-7H_lbI64RR56flpWX9iqBOFbzzUTwpzWRvxKPv5d_FzxxKLYUZMn1XadIrCFO66RfNagwztNazEiw21C5Vn8avLssyfuNzzIklLrWxUWmuiaJwW2Myqf4pzO-Hjh2XW7lJOTl6pBtBF_FAaSA.webp" },
        { id: 66, name: "Í∑∏ÎùºÏù¥ ÌîÑÏãú Îß§ÎëêÏãú", val: 1000000, rarity: 8, img: "https://i.namu.wiki/i/0-U6EvuDOPscsVqDW-Ygvr6DhuO-mJx77J1ge88A9mVqt0x8UH6nJ9xorT6c95PR_IvT651Rup6Sw4qAlFOo6g.webp" },
        { id: 67, name: "ÌÜ†ÌÜ†ÌÜ† ÏÇ¨ÌõÑÎ•¥", val: 2250000, rarity: 8, img: "https://i.namu.wiki/i/t-UhiVFZzlAfes7G9A3rb7-yA5NOC7_NY3-xgV9uCiBFT5b8pCnmjgRw3DEgcviyA4_oWl_dhdOHb5NKcP_Qvo0ZC037G570v8SWqn7BW8vsUU0izt078W5Zz3OsOXntzcSWcbFhGQD3Q2wFuHnCsA.webp" },
        { id: 68, name: "ÏπòÌÅ¥Î†à ÌÖåÏù¥Îùº ÎπÑÏãúÌÅ¥Î¶¨ ÌÖåÏù¥Îùº", val: 3500000, rarity: 8, img: "https://i.namu.wiki/i/8jz-27neFHJgHNtT1bDKk7OHT2NYvLoL6jxFeY0oEa0fpOyBF8NPLLLHqAHOBlBxP-mgemq2SBbUI9VfT3gVr5tX8_GmA_UW4Wquipr9KkG5WiyBJNZiPYTdlAZquNDgE7-LVFcnDDNEnzqxn_t0QQ.webp" },
        { id: 69, name: "ÏπòÌÅ¥Î†àÌÖåÏù¥Î¶¨ÎÇò ÎπÑÏãúÌÅ¥Î†à ÌÖåÏù¥Î¶¨ÎÇò", val: 5000000, rarity: 8, img: "https://i.namu.wiki/i/8EShDk5riw9Y6_Tshp11hReE3QaLefrCtt1rNvMTdLLyJHMh0Vz0slZN4BBeowN55Xwt2H85HObarbyPlC20OdxQHrvin0Ed0VBz8yeBs2AHz46s84rP3qZbW9bpHAeFO4Fis8rfnDHrxknoMEoy8Q.webp" },
        { id: 70, name: "ÎùºÍ∑∏ÎûÄÎç∞ ÏΩ§ÎπÑÎÑ§Ïù¥ÏÖò", val: 10000000, rarity: 8, img: "https://i.namu.wiki/i/O5lgKmAv-EveQyWCr_HsxjD8Z-coQXsIU2vq60Wtc06-sQEb5pwaGxRHm5YFVtocS9VJ2weLOfpCQFAUEtlJVCvXBwMDNUoI8QkFE71O7F8bGUMCj6N9QM1pWeUaNrbx5LkqDOC2Wx8prCc5qDINwQ.webp" },
        { id: 71, name: "Îâ¥ÌÅ¥Î†àÏïÑÎ•¥ ÎîîÎÖ∏ ÏÇ¨Ïö∞Î°ú", val: 15000000, rarity: 8, img: "https://i.namu.wiki/i/Osiai5LrEzEoU9lCFVLACIXcMjYEKo6dLBf4JIFTvBx7ytuXiaKQnhliHJG5FsqX2qSE2TUV5joZlXvzHI_2OHrym0SuWM3tnm84HyLeGKXe-H2cgF7veoHbgqjrOvOWh5tIPFN6SX0lCx2AvztqAA.webp" },
        { id: 72, name: "Î®∏ÎãàÎ®∏Îãà ÌçºÍ∏∞", val: 21000000, rarity: 8, img: "https://i.namu.wiki/i/_WLyvraj2A4M1tLM7SJkh9xA6qkXcPlhzrAkswSXnsTtxcuaRsDyOiVx1gqOs_lkLpk307lCdBb31vlk3iDuDL7GLs-Ymjzw3_bmqao_Kspq5locQSrgY9E8miZO9P8ISnYgm435LeD1lTZ9JJa_WA.webp" },
        
        { id: 73, name: "ÌÉïÌÉï ÏºàÎ†àÌÉï", val: 33500000, rarity: 8, img: "https://i.namu.wiki/i/xFk9FUkS63qg9kLXhjFJaCJbxD2ZuxKqmUI0vEnRIGBlDDaLRF6irTEUrNZnSgtygkpXHe66bQmVC5EnojLSE4a7GEeep0lSzobTtd_1O-I6FNvUNb2IDflBB2ebMk9eWa5bX-bVYoJmJiaMwy156A.webp" },
        { id: 74, name: "ÏºÄÌà¨Ìåü ÏºÄÌåü", val: 35000000, rarity: 8, img: "https://i.namu.wiki/i/FpAadpEfBymQHPMzROXAKsODCiC7fbGUM9eNmPO1S7Zx2Sugynz4bXTa9rt68hwgkpPfPC0fj_CFDUgvOAGwp81RT2gULS8gLj5kd1GvrENRoShv2HZPxYqYmra6M-sDnX6ryWG5VMkGD6rndSWKXQ.webp" },
        { id: 75, name: "Ìã±ÌÉÅÌã±ÌÉÅ ÏÇ¨ÌõÑÎ•¥", val: 37500000, rarity: 8, img: "https://i.namu.wiki/i/p8hn0J3OmMWzfxwoiWVUMpiMw27DR7YNkskfDHm1yIJNa8s8uQATOAm3NKrZSIjl2g0-94FNqHQ7KBr_oh9Ih8LGbHdPyY_5hvT4Z7BV_dUoSib63KUJbotGmOYt67wV_oTdK8z_IHRZQTpFUdN69g.webp" },
        
        { id: 76, name: "ÏºÄÏ∂îÎ£®ÏôÄ Î®∏Ïä§ÌÉÄÎëê", val: 42500000, rarity: 8, img: "https://i.namu.wiki/i/cVz10Pn6mTEIHcT9jr_9MJgogSs8WqyBhDRJMlT-vMRhPMb73fnidPKaU3cYIdD62QPm-0is67QsILMhZpoYpE_NgGprQP26Cg5mnzVElcE2gU38Z63oYpKa0ryJyYTgXin7GTBSDeUGO3JUtshAKA.webp" },
        { id: 77, name: "Í∞ÄÎùºÎßà ÏôÄ ÎßàÎë•Îçï", val: 50000000, rarity: 8, img: "https://i.namu.wiki/i/9UJgWvFQJiWU60whtzqe7bUpbdwqsqLb7Q8pwEHchbVT_Mqo_NArJiqeKTdz29Fn1C2LBxTbCfE-zlgLU140u_q7oRbWMu805XFjHcw49MoB9sX_bBIKIwzeJtPmV_4WYAOvYR42p_7ry8XU-nENWA.webp" },
        
        { id: 78, name: "Î≤ÑÍ±∞ÏôÄ ÌîÑÎùºÏù¥ÎÖ∏", val: 150000000, rarity: 8, img: "https://i.namu.wiki/i/etTWkA0Y35D4YuxKl-efx4mW-sH12HW-6mT0XxXd58XO2Q_Y2__mBHuSes7SUr3_tD4oScXMuX9OOBBUH8nBZhCg23VrbNKpejoUWBfECAEYrDEGvHNigP5ZCL612XYXDZaXulVWIAzsPfk2Rc2OTA.webp" },
        { id: 79, name: "ÏºÄÌîºÌÉÄÎÖ∏ Î™®ÎπÑ", val: 160000000, rarity: 8, img: "https://i.namu.wiki/i/lD2_u5a8f35uSoMrwspdQPSH45Tz3P9wE9vFqr1ng0ud5DMYWH_bsaodl-SJguuudLs4kRHL4HIKbVZ2YLB9x63Yf8r47gxBvBDBK2oyBcdpT7Hk2y2rAVLuu0KD4xYLeWPVjPeVUoXtuywAcc77qw.webp" },
        { id: 80, name: "ÎìúÎùºÍ≥§ Ïπ¥Î©úÎ°ú", val: 250000000, rarity: 8, img: "https://i.namu.wiki/i/v1SoR8dOOKxoLpZjZoNEQD4YLUOh4cdzzkRE61mf-toaCf3aCBGgeepJX4xM191IKsIi1sIF91pRven_ZF8RVDHsmYZ6IUbGq28yotOqTD0MfBh-BJVlWh15m-eT9hjD_iyLRH1XB9f_PCt3QG6reA.webp" },
        
        // Fusion Exclusive - Secret
        { id: 220, name: "ÏïÑÍ∞ÄÎ¶¨Îãà ÎùºÌåîÎ¶¨Îãà", val: 425000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/51_rap9ihih3R48MYaMJgaLccu5jVJumzjFI4wEKBZ4Dfqp3beLrhsZpyZGJeonCsFS9mFz4wZVY5t4G9rOJkw.webp" },
        { id: 221, name: "Î°úÏä§ ÌïòÏä§Ìåü", val: 20000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/zN10w2v9CLO7hnEpgikfz6EYgt7dl1xYiWjOYgG7cBBN3DKDhLMOfuu9LnPFXrDQInlJwN5-2sYQSOkkogmlYfS6YQVzSxT3bIMPG5TUzJKXKZVOzv7SITfixD66pSHrQ_f9K9Nddd7p4_0K80Yg9w.webp" },
        { id: 222, name: "Îùº ÏäàÌîÑÎ¶º ÏΩ§ÎπÑ ÎÑ§Ïù¥ÏÖò", val: 50000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/28muNesEsG3skdNrVD2fmf_XQ0y9hXyy9GbX8mx05xVmsRRl1kJioM4_9oX051PHVf4NMKQkkcxe_gt1hp5LeEGuXPNNRxQu6iobNHzK-GGQxSeWNxUvsq_-a8nnzMyTD-8ZNWZm8Xrz_qGtZNeCCQ.webp" },
        { id: 223, name: "Îùº ÏÇ¨ÌõÑÎ•¥ ÏΩ§ÎπÑÎÑ§Ïù¥ÏÖò", val: 2000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/Z3DvSVYUdBEaTNjKCmz4XJfu0fiiubBlRFMhJ8x4gia6Q0ljQNLc81JSIwZgcK6o2Veg3e88yvq1aBoQIvWHmFyMQe9prC60gBK8YXDpb_aXIuqT0CIJ9z3rCP9TMFdbRYzzArI_VdrhfGrtrSY3vw.webp" },
        { id: 224, name: "ÎùºÏä§ÏãúÏä§", val: 17500000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/7ZPuL7pql1r6hn-HcKxDXgtQIWHnv5vQqLiQhxBmpvqqNhIQgxfLnv38UT-myGLRNARmUPi51RfE4-l7MlDkEocvt86lTkZh5i4ELc5acIFXs0p4xHZPAfyRGqlDi6Clj4GwvX4lwsoZUBYMLhrsdQ.webp" },
        { id: 225, name: "ÏÑ∏Î°§Îùº ÏãúÎãà ÎπÑÎîîÏò§ ÏãúÎãà", val: 22500000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/pP9yscZYMdHqF7azAUGHjLUft02KSFHACBl-Vbda1tDjQGNDmZQbjjeL0YA_4FDyNUxCN26f7wTS_8_aTUckr3Om6Byo9q9mMWMcQqi4HM0KGr5EsM02sTkHrP932aELb3BG1OnU16UGM3aXcpmH-g.webp" },
        { id: 226, name: "Î°úÏä§ Î∏åÎ°úÏä§", val: 24000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/0-ZYgSQbcxcUJqhKkDhFLuOnROXqqgjvpsYk1l1hCteIcVIxtzXKYL5zidd51k7OG_s66XO9DoY0SrQ_kwfhzJpVB9SodzqOtsejP9iqtRfcc-76ImRKSsjoada5pI8JB3OCM0Qt6D16bWFJ_0QIQg.webp" },
        { id: 227, name: "Ìä∏ÎûÑÎùº Î†àÎèà", val: 28000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/WhMjZTkav8r4JsFdQvDuXl-RQwfjyZ0yKF5o3dgyMyjubLwkdCGkCCgYsDUm6q-8KwIgHlY7fzGFqTylxnogyxp2-j0ce89zeMTjG7ZQlYo8BXgVxN82isSJICIBtfShhFCU90WfAYsynHx9qZ8CNQ.webp" },
        { id: 228, name: "Î°úÏä§ ÌîÑÎ¶¨Î™®Ïä§", val: 31000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/xhS5_AVsiNVCrZaGFTdmkaV6UZk74SDS93--Rijwgb3A63HPeM1KIASBYJfSSMZIXrBlC9jqEDKX2fqN4Dt4lU_4p69Zssk-Pshmvf7XHUyw89dXQ1Lj9nXAjd5YqEVMwGsfU59uiwiHitXhydSHTw.webp" },
        { id: 229, name: "Î°úÏä§ ÌÉÄÏΩîÎ¶¨ÌÉÄÏä§", val: 32000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/NSqnFfbGLW8tH1LtLy_dx9F_gExmX8I-j15jFcHPpNN3Ln99YFj_PNhGkx42XfgSsE8Jyd3t2GKNedDcKhdHDjKJsswpWQadoP1aEdfZANR_vxw-h_Re5GI2fac8Up7ew1ezc4ikcnXyg49ftqLwag.webp" },
        { id: 231, name: "Ìò∏Ìò∏Ìò∏ ÏÇ¨ÌõÑÎ•¥", val: 3200000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/8zP9LMMRX9Tt6lilCEuETVQCRqH6K1nom1pW3_gF875Di34MnG9kcN5uGZmdYKRHGC4ylsR-F8628GXFttSNdz9b3eqBBxIiEuZsY0MOmfcYEBqnjdGYR7vx9kUUdPkxUCe42E9aWEywlO-yTcih0g.webp" },
        { id: 232, name: "ÏπòÌÅ¥Î†à ÌÖåÏù¥Î¶¨Îùº ÎÖ∏ÏóòÌÖåÏù¥Î¶¨ÎÇò", val: 15000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/XLcV4T2xqXwoHFJuSbP7028_csLLR_SfPHjLCLPBzt4dwebunQimKJD6pvqc7XWNiSPv_UL2Lt4U-X2I1d90queZtd8bcGWvJNT3U3Q6DHTjhFjvYMDCXB1-gyr69v5MazowVYqqiVxQyzxZYQt0DQ.webp" },
        { id: 233, name: "Ïø†ÌÇ§ÏôÄ Î∞ÄÌÇ§", val: 155000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/PJwS1FMTHssO3xoiFHye2B5ki1fNmS6mv0Vxr0pO6mKvWheAi73NeSc8rB5dmX28k68N0b5JrFcIc3yn20F4wWAqJUx-ks_gOH8yL_4nRmBrCaPgkvLMZt-Y4aUnK-ZtIQlA-cO_8JFLVLSctCInFQ.webp" },
        { id: 234, name: "ÎìúÎûòÍ≥§ ÏßÑÏ†ÄÎãà", val: 300000000, rarity: 8, isFusion: true, img: "https://i.namu.wiki/i/n3wIGTfgNoky2Fnbimno11KOZgV3HWCbVl5-JGWy9mHqKUYsKaEayU8pwqTIdTpNW6qWJUL-JVOJHsdG2W34m_xaAD0UWval2jtxaR1H0pT5KhQ0hzVmUpnVP0yBO86SdeqJm3TiZEszNuMQFeeghQ.webp" },

        // OG (Rarity 9 - New)
        { id: 81, name: "Ïä§ÌÇ§ÎπÑÎîî ÌÜ†ÏùºÎ†õ", val: 350000000, rarity: 9, img: "https://i.namu.wiki/i/qgIAicpseL24J1CtAoojCodNbEw125RcbkDj_ch7RDbAMIXihvNu8rS69y11eAy-sl_gRVxC9akZ_v9OupmQ-rX1LzbzCTHTzXYVN_YLC6KKq3SSx6jykwTzOl8wPkWM1zm1EGpDTw7X6nX1PdrCew.webp" },
        { id: 82, name: "ÎØ∏ÏïºÏö∏", val: 400000000, rarity: 9, img: "https://i.namu.wiki/i/ei04bjQJVgiaJpR6ilCbUb8npXWmT9m2LXpPzvdwLo9Z0Gn3mu2M2gseyIhjVAtcFpx9_xN3T8JUhp0FRmaf_Wg8lD1vRfJriToHWweLeOft8zLfEKi3qu1qqoSkyOK-q2MZpWhjwQfVCfqbrh7vHg.webp" },
        { id: 83, name: "Ïä§Ìä∏Î£® Î∞∞Î¶¨ ÏóòÎ†àÌéÄÌä∏", val: 550000000, rarity: 9, img: "https://i.namu.wiki/i/izTgdsMhvq_cvHnEmg15gmASyD0YjrzB1TMlVjpA1Ew-mIylR5wsoY0TQ0Sm65hMsui6B0yYp8w90av4_Ov4pCouArrd4zZdVP-E0AcVUvko-BENnRODO2eWcx8puHcE8kW_1Ob57e6EMdXQ8DoL3w.webp" },
        
        // Ritual Exclusive
        { id: 300, name: "Î°úÏä§ ÌÅ¨Î°úÏΩî ÎîúÎ¶¨ÌÜ†Ïä§", val: 55000, rarity: 6, isRitual: true, img: "https://i.namu.wiki/i/rQcTMwF3AEcbIfoU9A65alEXnxW_945ED18B6tZoiDVSCPKsSt5TEBHkEYbgqil0x7rvADRtX3r88N-vwYzQ-RSH9132GarEd4Unen3CHMLih1_48gCfDt8Fo-0HAF2jUL9isGF20eldjwyx9zU_Qw.webp" },

        // God Luck Block
        { id: 401, name: "Ìã∞Í∑∏Î°§ Î¶¨Îãà Í∑∏Îûò ÌîÑÌÜ® Î¶¨Îãà", val: 60000, rarity: 6, isLuck: true, img: "https://i.namu.wiki/i/72NhZ8c197Wlkk4g8pJ_zb6W0Q_DcsntnOk5s8cjY_Nk9SLRz_2uRZ_CyzBTAMp6568aNLOOSvyNrplSKnmt_hSs03b5w-Hey3tHOXwpc3ECsadNtw6bfU1XQXzrC1JrVwOvbrjYYjhLLEsu04O0MA.webp" },
        { id: 402, name: "Ïò§Î•¥Ïπº ÎûòÎèà Ïò§Î•¥ÏπºÎùº", val: 100000, rarity: 6, isLuck: true, img: "https://i.namu.wiki/i/HiHhHDDLZRCL4lxpgF136aj1u1Evxu9UPn3C2oA0Gz9lxszhkEYthqIVKPuj-ZOedXZdpqgk34mrcN-Jt4RYeusXSYoj6HY20qyCpQ3Go8hwRmHDa-lO_4njGDpRKDP9OtwsJPGS_uxXRMxld26DbQ.webp" },
        { id: 403, name: "Î∂àÎπÑÌÜ† Î∞¥ÎîîÌÜ† Ìä∏ÎûôÌÜ†Î¶¨ÌÜ†", val: 205000, rarity: 6, isLuck: true, img: "https://i.namu.wiki/i/IyoTiIUgucSdFF1JvUOmk-RXohEw830n1Ax3K0dmoN_VheH1O_DRe_WfvBf--owEz_EgjVkVwSx7SUKKPHelzK6BDLs4c7wSYk34P8pIlx7nNBX1G2Yw4ZkrZeR0LsppLLU6YpLfscaRqAmqU-PStQ.webp" },
        { id: 404, name: "ÎßàÏä§ÌÑ∞Îçò Ìã∏Î¶¨ÌÇ¨Î°ú ÌÇ¨Î¶¨ ÏπºÎ¶¨Ïò§", val: 275000, rarity: 6, isLuck: true, img: "https://i.namu.wiki/i/4vTkBgvLHEQmdjuOzI3CXiKVznUe5-qjQ1BRbTsPm3f6BzHuor8RahpMzO-Flmf1KwyUMH7173tErF1BBq7waUAMKdgpQvWLA7mPQ36bEuoQTHA0S3onUrNYKO-BpPlLXxWOpqVdBQL0-xfl-YRGvA.webp" },
        { id: 405, name: "ÌåùÌåùÌåù ÏÇ¨ÌõÑÎ•¥", val: 295000, rarity: 6, isLuck: true, img: "https://i.namu.wiki/i/8FM7r08GEx4SqsZwktBcsSAk8iXnsVsBryutpE2a3tfHhTuSblblexKezkRxiMlEeeFnTD4hpc1V82qsBlmaA45p9PDDOfS_3HFuC8rkOXigfR0YVc0aDaflVQb6OC9CxsQ40I_1Ort_7vsQC0YwHw.webp" },

        // Secret Luck Block
        { id: 501, name: "ÎèÑÎ£®Ìä∏ ÎîîÎãà ÎìúÎùºÍ≥§ ÌîÑÎ•¥Ìä∏ ÎîîÎãà", val: 350000000, rarity: 8, isLuck: true, img: "https://i.namu.wiki/i/srTqFfslUeNte5euhDlkuU8WMfmmskWrODcpK0UPOvHWuKmjAGHIv8wh1sKmR-kGvy00CS6cCLqmeR5UKxIHIsaOPXjUmrpRnSfV3839wbZy-Qkzxj4_i8-gQL4haHvEZC1Kc0uq5m8rlpDcQTD5VA.webp" },
        { id: 502, name: "Ìåü ÌïòÏä§Ìåü", val: 2500000, rarity: 8, isLuck: true, img: "https://i.namu.wiki/i/VvbnD0hQLt-j5aBzGda5FkYrrFHCYE4yzcQ5oVZjybrHpyjzXMHEqGA1za-Lg-OrcDmAbX3By6ja9QFH8JMApiV7Wn4khj_w4tHMiuCWpZ3UPM2QJn_OoiFCsoojFJoLqcw7OWsU27gpZAFAs_XYGg.webp" },
        { id: 503, name: "Ïï†ÏÑù ÏãúÏΩúÎùº", val: 30000000, rarity: 8, isLuck: true, img: "https://i.namu.wiki/i/_KhNbOJe8rhxCA-dGruHUp4BichXnj7ZLCgsRBX2ciMQNF0NePo7usKAHWik0SH_SivZ0BJir5LmDZNOFue5-ubQdfcqHnhxCoGdQFp8BoeMU94D_SEyFMB4XIGgQAs2S0uhQtfiMoRi1orQ23rwFw.webp" },
        { id: 504, name: "Ïä§ÌååÍ≤åÌã∞ Ìà¨ÏïåÎûòÌã∞", val: 60000000, rarity: 8, isLuck: true, img: "https://i.namu.wiki/i/HEu8YwWscRwpXezE7uIAhjtV9hJXS4zeDtJZJ63-i4I9ceasL4h_5-5-8etOY9BJdNVk7InaGYHz7WahLBNGQIm14dSxisY1HOuU2AaiQxvC2FBW-ywiOI70yvn1tA3oWYMTbIZk2F5JEaMKJg0_uw.webp" },
        { id: 505, name: "Îùº ÏãúÌÅ¨Î¶ø ÏΩ§ÎπÑÎÑ§Ïù¥ÏÖò", val: 125000000, rarity: 8, isLuck: true, img: "https://i.namu.wiki/i/dslcGdEo8LlljvfJ5-rzT3-Wu-Nw7h6QKGjGoFxROo_pdUFN_jddEnPr-DPfx5P1QkkGk0dp7DU2xeuJtEXa4Yul5K45iykM1whIQw5ZjCwI9HXTE8tYN4jZy0x4kCnWlhsUoNJEFtcEatdU8SNHbA.webp" }
    ];

    const langData = {
        ko: { inventory: "Ïù∏Î≤§ÌÜ†Î¶¨", battle: "Î∞∞ÌãÄ ÏïÑÎ†àÎÇò", collection: "ÎèÑÍ∞ê", settings: "ÏÑ§Ï†ï", equip: "Ïû•Ï∞©ÌïòÍ∏∞", battle_start: "Î∞∞ÌãÄÌïòÍ∏∞ (XP)", sell: "ÌåêÎß§", cancel: "Ï∑®ÏÜå", base_title: "ÎÇòÏùò Î≤†Ïù¥Ïä§", battle_desc: "Ïù∏Î≤§ÌÜ†Î¶¨ÏóêÏÑú Ï∫êÎ¶≠ÌÑ∞Î•º ÏÑ†ÌÉùÌïòÏÑ∏Ïöî!", select_char: "Ï∫êÎ¶≠ÌÑ∞ ÏÑ†ÌÉù", gacha_result: "ÌöçÎìù Í≤∞Í≥º", pack_normal: "ÏùºÎ∞ò Ìå©", pack_rare: "Î†àÏñ¥ Ìå©", pack_epic: "ÏóêÌîΩ Ìå©", pack_legendary: "Ï†ÑÏÑ§ Ìå©", pack_mythic: "Ïã†Ìôî Ìå©", pack_god: "Í∞ì Ìå©", pack_secret: "ÏãúÌÅ¨Î¶ø Ìå©" },
        en: { inventory: "Inventory", battle: "Battle Arena", collection: "Collection", settings: "Settings", equip: "Equip", battle_start: "Battle (XP)", sell: "Sell", cancel: "Cancel", base_title: "My Base", battle_desc: "Select a character from Inventory!", select_char: "Select Character", gacha_result: "Results", pack_normal: "Normal Pack", pack_rare: "Rare Pack", pack_epic: "Epic Pack", pack_legendary: "Legendary Pack", pack_mythic: "Mythic Pack", pack_god: "God Pack", pack_secret: "Secret Pack" },
        ja: { inventory: "„Ç§„É≥„Éô„É≥„Éà„É™", battle: "„Éê„Éà„É´„Ç¢„É™„Éº„Éä", collection: "Âõ≥Èëë", settings: "Ë®≠ÂÆö", equip: "Ë£ÖÂÇô", battle_start: "„Éê„Éà„É´ (XP)", sell: "Â£≤Âç¥", cancel: "„Ç≠„É£„É≥„Çª„É´", base_title: "„Éû„Ç§„Éô„Éº„Çπ", battle_desc: "„Ç§„É≥„Éô„É≥„Éà„É™„Åã„Çâ„Ç≠„É£„É©„ÇØ„Çø„Éº„ÇíÈÅ∏ÊäûÔºÅ", select_char: "„Ç≠„É£„É©ÈÅ∏Êäû", gacha_result: "Áç≤ÂæóÁµêÊûú", pack_normal: "‰∏ÄËà¨„Éë„ÉÉ„ÇØ", pack_rare: "„É¨„Ç¢„Éë„ÉÉ„ÇØ", pack_epic: "„Ç®„Éî„ÉÉ„ÇØ„Éë„ÉÉ„ÇØ", pack_legendary: "‰ºùË™¨„Éë„ÉÉ„ÇØ", pack_mythic: "Á•ûË©±„Éë„ÉÉ„ÇØ", pack_god: "„Ç¥„ÉÉ„Éâ„Éë„ÉÉ„ÇØ", pack_secret: "„Ç∑„Éº„ÇØ„É¨„ÉÉ„Éà„Éë„ÉÉ„ÇØ" }
    };

    let money = 500;
    let inventory = [];
    let base = [];
    let unlockedItems = [];
    let drawCount = 1;
    let selectedItemIdx = -1;
    let uidCounter = 0;
    let currentLang = 'ko';
    let rebirthMult = 1.0;
    let battleTimer = null;
    let currentCollectionTab = 'all';

    // Fusion Vars
    let fusionSlots = [null, null, null, null];
    let ritualSlots = [null, null, null]; // 3 Slots
    let fusionMode = false;

    // Factory Vars
    let factoryMobInterval = null;
    let factoryDespawnTimeout = null;
    let currentFactoryMob = null;

    window.onload = () => {
        loadGame();
        initBaseGrid();
        updateUI();
        setInterval(gameLoop, 1000);
        setInterval(saveGame, 5000); 
    };

    function initBaseGrid() {
        const grid = document.getElementById('base-grid');
        grid.innerHTML = '';
        for(let i=0; i<50; i++) {
            grid.innerHTML += `<div class="slot" id="slot-${i}"></div>`;
        }
    }

    function saveGame() {
        const data = {
            money: money,
            inventory: inventory,
            base: base,
            unlockedItems: unlockedItems,
            uidCounter: uidCounter,
            lang: currentLang,
            rebirthMult: rebirthMult
        };
        localStorage.setItem('brainrot_save_v25', JSON.stringify(data));
    }

    function loadGame() {
        const saved = localStorage.getItem('brainrot_save_v25');
        if (saved) {
            try {
                const data = JSON.parse(saved);
                money = data.money || 500;
                inventory = data.inventory || [];
                base = data.base || [];
                unlockedItems = data.unlockedItems || [];
                uidCounter = data.uidCounter || 0;
                currentLang = data.lang || 'ko';
                rebirthMult = data.rebirthMult || 1.0;
                setLanguage(currentLang);
            } catch (e) {
                console.error("Save file corrupted, loading defaults.");
            }
        }
    }

    function resetData() {
        if(confirm("Î™®Îì† Îç∞Ïù¥ÌÑ∞Î•º Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå? / Reset all data?")) {
            localStorage.removeItem('brainrot_save_v25');
            location.reload();
        }
    }

    function doRebirth() {
        const cost = 100000000;
        if(money < cost) {
            alert(`ÌôòÏÉùÌïòÎ†§Î©¥ ${cost.toLocaleString()}ÏõêÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.`);
            return;
        }
        if(confirm("ÌôòÏÉùÌïòÏãúÍ≤†ÏäµÎãàÍπå? Î™®Îì† ÎèàÍ≥º Ï∫êÎ¶≠ÌÑ∞Í∞Ä Ï¥àÍ∏∞ÌôîÎêòÏßÄÎßå Î∞∞Ïú®Ïù¥ Ï¶ùÍ∞ÄÌï©ÎãàÎã§.")) {
            let bonus = Math.floor(money / 100000000);
            if(bonus < 1) bonus = 1;
            rebirthMult += bonus;
            money = 0;
            inventory = [];
            base = [];
            fusionSlots = [null, null, null, null];
            ritualSlots = [null, null, null];
            saveGame();
            updateUI();
            renderFusionSlots(); 
            renderRitualSlots();
            alert(`ÌôòÏÉù ÏÑ±Í≥µ! ÌòÑÏû¨ Î∞∞Ïú®: x${rebirthMult.toFixed(1)}`);
        }
    }

    function gameLoop() {
        let eps = 0;
        base.forEach(item => {
            let bonus = 1 + (item.level - 1) * 0.1;
            eps += item.val * bonus;
        });
        eps *= rebirthMult; 
        money += Math.floor(eps);
        document.getElementById('eps').innerText = Math.floor(eps).toLocaleString();
        updateUI();
    }

    function updateUI() {
        document.getElementById('money').innerText = money.toLocaleString();
        document.getElementById('rebirth-mult').innerText = rebirthMult.toFixed(1);
        document.getElementById('factory-rebirth-mult').innerText = rebirthMult.toFixed(1);
        document.getElementById('base-count').innerText = base.length;
        renderBase();
        renderInventory();
        renderCollection();
        updateLangText();
    }

    function setLanguage(lang) {
        currentLang = lang;
        updateLangText();
        saveGame();
    }

    function updateLangText() {
        const t = langData[currentLang];
        document.querySelectorAll('[data-lang]').forEach(el => {
            const key = el.getAttribute('data-lang');
            if(t[key]) el.innerText = t[key];
        });
    }

    function setDrawCount(n) {
        drawCount = n;
        document.querySelectorAll('.count-btn').forEach(b => {
            b.classList.remove('active');
            if(parseInt(b.innerText.replace('x','')) === n) b.classList.add('active');
        });
    }

    function buyPack(type) {
        let costBase = 0;
        if (type === 'normal') costBase = 10;
        else if (type === 'rare') costBase = 500;
        else if (type === 'epic') costBase = 1000;
        else if (type === 'legendary') costBase = 5000;
        else if (type === 'mythic') costBase = 50000;
        else if (type === 'god') costBase = 2000000;
        else if (type === 'secret') costBase = 50000000;
        else if (type === 'og') costBase = 1000000000;
        else if (type === 'luck_god') costBase = 500000;
        else if (type === 'luck_secret') costBase = 100000000;

        const totalCost = costBase * drawCount;

        if(money < totalCost) {
            alert("ÎèàÏù¥ Î∂ÄÏ°±Ìï©ÎãàÎã§! / Not enough money!");
            return;
        }

        money -= totalCost;
        updateUI();

        const anim = document.getElementById('gacha-anim');
        const box = document.querySelector('.gacha-box');
        const resContainer = document.getElementById('gacha-results-container');
        
        anim.style.display = 'flex';
        box.style.display = 'block';
        resContainer.style.display = 'none';

        setTimeout(() => {
            box.style.display = 'none';
            resContainer.style.display = 'flex';
            showGachaResults(type, drawCount);
        }, 1000);
    }

    function showGachaResults(type, count) {
        const grid = document.getElementById('result-grid');
        grid.innerHTML = '';
        
        for(let i=0; i<count; i++) {
            const picked = processGacha(type);
            const div = document.createElement('div');
            div.className = 'result-card';
            div.innerHTML = `
                <img src="${picked.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${picked.rarity}" style="width:60px; height:60px;">
                <div style="font-size:10px; margin-top:5px;">${picked.name}</div>
            `;
            grid.appendChild(div);
        }
        saveGame();
        renderInventory();
        renderCollection();
    }

    function closeGacha() {
        document.getElementById('gacha-anim').style.display = 'none';
        updateUI();
    }

    function pickWeighted(arr) {
        if (!arr || arr.length === 0) return null;
        let totalWeight = 0;
        const weightedItems = arr.map(item => {
            const weight = 1 / Math.max(1, item.val);
            totalWeight += weight;
            return { item, weight };
        });
        let random = Math.random() * totalWeight;
        for (const entry of weightedItems) {
            random -= entry.weight;
            if (random <= 0) return entry.item;
        }
        return arr[arr.length - 1];
    }

    function pickWithRate(arr, rates) {
        // rates: array of percent, e.g. [75.5, 12, 5, 1, remaining]
        let rng = Math.random() * 100;
        let acc = 0;
        for(let i=0; i<arr.length; i++) {
            acc += rates[i] || 0;
            if(rng <= acc) return arr[i];
        }
        return arr[arr.length - 1];
    }

    function processGacha(type) {
        const c=DB.filter(i=>i.rarity===1 && !i.isFusion && !i.isRitual), r=DB.filter(i=>i.rarity===2 && !i.isFusion && !i.isRitual), e=DB.filter(i=>i.rarity===3 && !i.isFusion && !i.isRitual);
        const l=DB.filter(i=>i.rarity===4 && !i.isFusion && !i.isRitual), m=DB.filter(i=>i.rarity===5 && !i.isFusion && !i.isRitual), g=DB.filter(i=>i.rarity===6 && !i.isFusion && !i.isRitual && !i.isLuck && !i.isRitual);
        const s=DB.filter(i=>i.rarity===8 && !i.isFusion && !i.isRitual && !i.isLuck), o=DB.filter(i=>i.rarity===9 && !i.isFusion && !i.isRitual);
        
        let picked;
        const pick = pickWeighted; 

        if (type === 'normal') {
            if (rand(0.90)) picked = pick(c); else if (rand(0.99)) picked = pick(r); else picked = pick(e);
        } 
        else if (type === 'rare') {
            if (rand(0.20)) picked = pick(c); else if (rand(0.90)) picked = pick(r); else picked = pick(e);
        }
        else if (type === 'epic') {
            if (rand(0.10)) picked = pick(r); else if (rand(0.90)) picked = pick(e); else picked = pick(l);
        }
        else if (type === 'legendary') {
            if (rand(0.10)) picked = pick(e); else if (rand(0.90)) picked = pick(l); else picked = pick(m);
        }
        else if (type === 'mythic') {
            if (rand(0.10)) picked = pick(l); else picked = pick(m);
        }
        else if (type === 'god') {
            if (rand(0.10)) picked = pick(m); else picked = pick(g);
        }
        else if (type === 'secret') {
            if (rand(0.05)) picked = pick(g); else picked = pick(s);
        }
        else if (type === 'og') {
            picked = pick(o);
        }
        else if (type === 'luck_god') {
            // God Luck Block
            const luckG = DB.filter(i => i.isLuck && i.rarity === 6);
            picked = pickWeighted(luckG);
        }
        else if (type === 'luck_secret') {
            // Secret Luck Block - Specific Rates
            // ID 501: 75.5%, 502: 12%, 503: 5%, 504: 1%, 505: ~6.5%
            const luckS = [501, 502, 503, 504, 505].map(id => DB.find(x => x.id === id));
            const rates = [75.5, 12, 5, 1, 6.5];
            picked = pickWithRate(luckS, rates);
        }
        
        if (!picked) picked = pick(c);
        if (!picked) picked = DB[0];

        if(!unlockedItems.includes(picked.id)) unlockedItems.push(picked.id);
        const newItem = { ...picked, uid: uidCounter++, level: 1, xp: 0, maxXp: 100 };
        inventory.push(newItem);
        return newItem;
    }

    function rand(limit) { return Math.random() < limit; }

    function setCollectionTab(tab) {
        currentCollectionTab = tab;
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        renderCollection();
    }

    function renderCollection() {
        const list = document.getElementById('collection-list');
        list.innerHTML = '';
        let sortedDB = [...DB].sort((a,b) => a.id - b.id);
        
        // Filter by tab
        if(currentCollectionTab === 'standard') {
            sortedDB = sortedDB.filter(i => !i.isFusion && !i.isRitual && !i.isLuck);
        } else if(currentCollectionTab === 'fusion') {
            sortedDB = sortedDB.filter(i => i.isFusion);
        } else if(currentCollectionTab === 'ritual') {
            sortedDB = sortedDB.filter(i => i.isRitual);
        } else if(currentCollectionTab === 'luck') {
            sortedDB = sortedDB.filter(i => i.isLuck);
        }

        sortedDB.forEach(d => {
            const un = unlockedItems.includes(d.id);
            const div = document.createElement('div');
            div.className = `inv-item collection-item ${un ? '' : 'locked'}`;
            div.innerHTML = `
                <img src="${d.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${d.rarity}">
                <div class="item-name" style="font-size:10px; text-align:center; width:100%; overflow:hidden; white-space:nowrap;">${un ? d.name : "???"}</div>
            `;
            list.appendChild(div);
        });
    }

    function renderInventory() {
        const list = document.getElementById('inventory-list');
        list.innerHTML = '';
        inventory.forEach((item, idx) => {
            const div = document.createElement('div');
            div.className = 'inv-item';
            div.onclick = () => selectItem(idx);
            div.innerHTML = `
                <span class="lvl-badge">Lv.${item.level}</span>
                <img src="${item.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${item.rarity}">
                <div style="font-size:10px; text-align:center; width:100%; overflow:hidden; white-space:nowrap;">${item.name}</div>
            `;
            list.appendChild(div);
        });

        // Factory Modal Check
        if(document.getElementById('factory-modal').style.display === 'flex') {
            const fList = document.getElementById('fusion-inventory-list');
            fList.innerHTML = '';
            inventory.forEach((item, idx) => {
                if(fusionSlots.includes(item) || ritualSlots.includes(item)) return; 
                const div = document.createElement('div');
                div.className = 'inv-item';
                // Click behavior depends on mode? No, just add to empty slot based on context?
                // For simplicity, we can't easily distinguish intention.
                // Let's make: Click -> Try Fusion -> If Fail Try Ritual.
                div.onclick = () => {
                     if(!addToFusionSlot(item)) {
                         addToRitualSlot(item);
                     }
                };
                div.innerHTML = `
                    <span class="lvl-badge">Lv.${item.level}</span>
                    <img src="${item.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${item.rarity}">
                    <div style="font-size:10px; text-align:center; width:100%; overflow:hidden; white-space:nowrap;">${item.name}</div>
                `;
                fList.appendChild(div);
            });
        }
    }

    function renderBase() {
        base.forEach((item, idx) => {
            const slot = document.getElementById(`slot-${idx}`);
            if(slot) slot.innerHTML = `<img src="${item.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${item.rarity}" onclick="unequip(${idx})">`;
        });
        for(let i = base.length; i < 50; i++) {
            const slot = document.getElementById(`slot-${i}`);
            if(slot) slot.innerHTML = '';
        }
    }

    function selectItem(idx) {
        selectedItemIdx = idx;
        const i = inventory[idx];
        if(!i) return; 
        document.getElementById('selected-item-info').innerHTML = `
            <div>${i.name} (Lv.${i.level})</div>
            <div style="font-size:12px; color:#aaa;">+${(i.val * rebirthMult).toLocaleString()} $/s</div>
        `;
        document.getElementById('sell-price').innerText = (i.val * 5 * i.level).toLocaleString();
        document.getElementById('item-action-menu').style.display = 'flex';
    }

    function closeActionMenu() {
        document.getElementById('item-action-menu').style.display = 'none';
        selectedItemIdx = -1;
    }

    function actionEquip() {
        if(selectedItemIdx < 0) return;
        if(base.length >= 50) { alert("Base is full! (Max 50)"); return; }
        if(inventory[selectedItemIdx]) {
            base.push(inventory.splice(selectedItemIdx, 1)[0]);
            closeActionMenu();
            updateUI();
            saveGame();
        }
    }

    function unequip(idx) {
        if(base[idx]) {
            inventory.push(base.splice(idx, 1)[0]);
            updateUI();
            saveGame();
        }
    }

    function actionSell() {
        if(selectedItemIdx < 0) return;
        if(inventory[selectedItemIdx]) {
            money += inventory[selectedItemIdx].val * 5 * inventory[selectedItemIdx].level;
            inventory.splice(selectedItemIdx, 1);
            closeActionMenu();
            updateUI();
            saveGame();
        }
    }

    /* Fusion & Ritual UI */
    function openFactoryModal() {
        renderFusionSlots();
        renderRitualSlots();
        openModal('factory-modal');
        renderInventory();
        startFactoryLoop();
    }

    function addToFusionSlot(item) {
        const emptyIdx = fusionSlots.indexOf(null);
        if(emptyIdx !== -1) {
            fusionSlots[emptyIdx] = item;
            renderFusionSlots();
            renderInventory(); 
            return true;
        } 
        return false;
    }
    
    function addToRitualSlot(item) {
        const emptyIdx = ritualSlots.indexOf(null);
        if(emptyIdx !== -1) {
            ritualSlots[emptyIdx] = item;
            renderRitualSlots();
            renderInventory();
            return true;
        }
        return false;
    }

    function removeFusionItem(slotIdx) {
        if(fusionSlots[slotIdx]) {
            fusionSlots[slotIdx] = null;
            renderFusionSlots();
            renderInventory();
        }
    }
    
    function removeRitualItem(slotIdx) {
        if(ritualSlots[slotIdx]) {
            ritualSlots[slotIdx] = null;
            renderRitualSlots();
            renderInventory();
        }
    }

    function renderFusionSlots() {
        let filledCount = 0;
        for(let i=0; i<4; i++) {
            const slotEl = document.getElementById(`f-slot-${i}`);
            const item = fusionSlots[i];
            if(item) {
                slotEl.innerHTML = `<img src="${item.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${item.rarity}">`;
                slotEl.classList.add('filled');
                filledCount++;
            } else {
                slotEl.innerHTML = '';
                slotEl.classList.remove('filled');
            }
        }
        const btn = document.getElementById('btn-fuse-start');
        btn.disabled = (filledCount !== 4);
        btn.style.background = (filledCount === 4) ? '#e91e63' : '#333';
        btn.style.color = (filledCount === 4) ? 'white' : '#555';
    }

    function renderRitualSlots() {
        let filledCount = 0;
        for(let i=0; i<3; i++) {
            const slotEl = document.getElementById(`r-slot-${i}`);
            const item = ritualSlots[i];
            if(item) {
                slotEl.innerHTML = `<img src="${item.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${item.rarity}">`;
                slotEl.classList.add('filled');
                filledCount++;
            } else {
                slotEl.innerHTML = '';
                slotEl.classList.remove('filled');
            }
        }
        const btn = document.getElementById('btn-ritual-start');
        btn.disabled = (filledCount !== 3);
        btn.style.background = (filledCount === 3) ? '#9c27b0' : '#333';
        btn.style.color = (filledCount === 3) ? 'white' : '#555';
    }

    function startRitual() {
        // Check if all are Bombardiro (ID 40)
        const allCorrect = ritualSlots.every(i => i && i.id === 40);
        if(!allCorrect) {
            alert("ÏùòÏãù Ïã§Ìå®! 'Î¥ÑÎ∞îÎ•¥ ÎîîÎ°ú ÌÅ¨Î°úÏΩî ÎîîÎ°ú' 3ÎßàÎ¶¨Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.");
            return;
        }

        // Consume items
        ritualSlots.forEach(rItem => {
            const idx = inventory.findIndex(invItem => invItem.uid === rItem.uid);
            if(idx !== -1) inventory.splice(idx, 1);
        });

        // Give Result: Los Crocodilitos (ID 300)
        const resultItem = DB.find(x => x.id === 300);
        if(!unlockedItems.includes(resultItem.id)) unlockedItems.push(resultItem.id);
        const newItem = { ...resultItem, uid: uidCounter++, level: 1, xp: 0, maxXp: 100 };
        inventory.push(newItem);
        ritualSlots = [null, null, null];
        renderRitualSlots();
        
        // Anim
        const anim = document.getElementById('gacha-anim');
        const box = document.querySelector('.gacha-box');
        const resContainer = document.getElementById('gacha-results-container');
        anim.style.display = 'flex';
        box.style.display = 'block';
        resContainer.style.display = 'none';

        setTimeout(() => {
            box.style.display = 'none';
            resContainer.style.display = 'flex';
            const grid = document.getElementById('result-grid');
            grid.innerHTML = '';
            const div = document.createElement('div');
            div.className = 'result-card';
            div.innerHTML = `
                <div style="color:#9c27b0; font-weight:bold; margin-bottom:5px;">RITUAL SUCCESS!</div>
                <img src="${newItem.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${newItem.rarity}" style="width:80px; height:80px;">
                <div style="font-size:12px; margin-top:5px;">${newItem.name}</div>
            `;
            grid.appendChild(div);
        }, 1500);
        saveGame();
        updateUI();
    }

    function startFusion() {
        if(fusionSlots.includes(null)) return;
        let totalVal = 0;
        fusionSlots.forEach(i => totalVal += i.val);
        fusionSlots.forEach(fItem => {
            const idx = inventory.findIndex(invItem => invItem.uid === fItem.uid);
            if(idx !== -1) inventory.splice(idx, 1);
        });

        // Fusion Result Logic
        const fLeg = DB.filter(i => i.isFusion && i.rarity === 4);
        const fMyth = DB.filter(i => i.isFusion && i.rarity === 5);
        const fGod = DB.filter(i => i.isFusion && i.rarity === 6);
        const fSec = DB.filter(i => i.isFusion && i.rarity === 8);

        let rng = Math.random();
        let resultItem;

        if (totalVal < 10000) {
            if (rng < 0.90) resultItem = pickWeighted(fLeg); else resultItem = pickWeighted(fMyth);
        } else if (totalVal < 100000) {
            if (rng < 0.20) resultItem = pickWeighted(fLeg); 
            else if (rng < 0.90) resultItem = pickWeighted(fMyth); 
            else resultItem = pickWeighted(fGod);
        } else if (totalVal < 5000000) {
            if (rng < 0.10) resultItem = pickWeighted(fMyth); 
            else if (rng < 0.90) resultItem = pickWeighted(fGod); 
            else resultItem = pickWeighted(fSec);
        } else {
            if (rng < 0.40) resultItem = pickWeighted(fGod);
            else resultItem = pickWeighted(fSec);
        }

        if (!resultItem) resultItem = fLeg[0] || DB[0];

        if(!unlockedItems.includes(resultItem.id)) unlockedItems.push(resultItem.id);
        const newItem = { ...resultItem, uid: uidCounter++, level: 1, xp: 0, maxXp: 100 };
        inventory.push(newItem);
        fusionSlots = [null, null, null, null];
        renderFusionSlots();

        const anim = document.getElementById('gacha-anim');
        const box = document.querySelector('.gacha-box');
        const resContainer = document.getElementById('gacha-results-container');
        anim.style.display = 'flex';
        box.style.display = 'block';
        resContainer.style.display = 'none';

        setTimeout(() => {
            box.style.display = 'none';
            resContainer.style.display = 'flex';
            const grid = document.getElementById('result-grid');
            grid.innerHTML = '';
            const div = document.createElement('div');
            div.className = 'result-card';
            div.innerHTML = `
                <div style="color:#e91e63; font-weight:bold; margin-bottom:5px;">FUSION SUCCESS!</div>
                <img src="${newItem.img}" onerror="this.src='https://placehold.co/100?text=Error'; this.onerror=null;" class="item-img rarity-${newItem.rarity}" style="width:80px; height:80px;">
                <div style="font-size:12px; margin-top:5px;">${newItem.name}</div>
            `;
            grid.appendChild(div);
        }, 1500);
        saveGame();
        updateUI();
    }

    /* Factory Roaming Logic */
    function startFactoryLoop() {
        if(factoryMobInterval) clearInterval(factoryMobInterval);
        
        // Spawn every 3 seconds
        factoryMobInterval = setInterval(() => {
            if(document.getElementById('factory-modal').style.display === 'flex') {
                spawnFactoryMob();
            }
        }, 3000);
    }

    function spawnFactoryMob() {
        if(currentFactoryMob) {
            clearTimeout(factoryDespawnTimeout);
            if(currentFactoryMob.el && currentFactoryMob.el.parentNode) currentFactoryMob.el.parentNode.removeChild(currentFactoryMob.el);
            currentFactoryMob = null;
        }

        const mob = pickWeighted(DB.filter(i => !i.isFusion && !i.isRitual && !i.isLuck));
        if(!mob) return;

        const container = document.getElementById('factory-mob-container');
        const mobEl = document.createElement('img');
        mobEl.src = mob.img;
        mobEl.onerror = function() { this.src='https://placehold.co/100?text=Mob'; this.onerror=null; };
        mobEl.className = 'factory-mob rarity-' + mob.rarity;
        
        mobEl.style.left = (10 + Math.random() * 80) + '%';
        
        mobEl.onclick = () => {
            battleFactoryMob(mob);
            clearTimeout(factoryDespawnTimeout);
            container.removeChild(mobEl);
            currentFactoryMob = null;
        };

        container.appendChild(mobEl);
        currentFactoryMob = { item: mob, el: mobEl };

        factoryDespawnTimeout = setTimeout(() => {
            if(currentFactoryMob && currentFactoryMob.el === mobEl) {
                container.removeChild(mobEl);
                currentFactoryMob = null;
            }
        }, 5000);
    }

    function battleFactoryMob(mob) {
        if(inventory.length === 0) {
            alert("Ïã∏Ïö∏ Ï∫êÎ¶≠ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§! Ïù∏Î≤§ÌÜ†Î¶¨Î•º ÌôïÏù∏ÌïòÏÑ∏Ïöî.");
            return;
        }
        const fighter = inventory.reduce((prev, current) => (prev.val > current.val) ? prev : current);
        
        openModal('battle-modal');
        document.getElementById('battle-lobby').style.display = 'none';
        document.getElementById('battle-view').style.display = 'flex';
        
        const pImg = document.getElementById('battle-player');
        pImg.src = fighter.img;
        pImg.onerror = function() { this.src='https://placehold.co/100?text=Player'; this.onerror=null; };
        pImg.className = `fighter player rarity-${fighter.rarity}`;
        
        const eImg = document.getElementById('battle-enemy');
        eImg.src = mob.img;
        eImg.onerror = function() { this.src='https://placehold.co/100?text=Enemy'; this.onerror=null; };
        eImg.className = `fighter enemy rarity-${mob.rarity}`;
        
        let ehp = mob.val * 0.5;
        if(ehp < 100) ehp = 100;
        const maxHp = ehp;
        
        document.getElementById('battle-msg').innerText = "WILD BRAINROT!";
        
        if(battleTimer) clearInterval(battleTimer);
        battleTimer = setInterval(() => {
            ehp -= fighter.val * fighter.level * rebirthMult + 10;
            let pct = (ehp / maxHp) * 100;
            if(pct < 0) pct = 0;
            document.getElementById('enemy-hp').style.width = pct + '%';
            
            if(ehp <= 0) {
                clearInterval(battleTimer);
                winFactoryBattle(fighter, mob);
            }
        }, 100);
    }

    function winFactoryBattle(fighter, mob) {
        let chance = 1 / (Math.sqrt(mob.val) / 2);
        if(chance > 0.5) chance = 0.5; 
        
        const rng = Math.random();
        
        if(rng < chance) {
            document.getElementById('battle-msg').innerText = "CAUGHT!";
            document.getElementById('battle-msg').style.color = "#00ff00";
            
            if(!unlockedItems.includes(mob.id)) unlockedItems.push(mob.id);
            const newItem = { ...mob, uid: uidCounter++, level: 1, xp: 0, maxXp: 100 };
            inventory.push(newItem);
            
            setTimeout(() => {
                alert(`ÌöçÎìù ÏÑ±Í≥µ!\n${mob.name}`);
                closeModal('battle-modal');
                updateUI();
            }, 1000);
        } else {
            document.getElementById('battle-msg').innerText = "ESCAPED...";
            document.getElementById('battle-msg').style.color = "#fff";
            setTimeout(() => {
                closeModal('battle-modal');
            }, 1000);
        }
        
        fighter.xp += 10;
        saveGame();
    }

    /* Normal Battle Logic */
    function actionBattleStart() {
        if(selectedItemIdx < 0) return;
        const item = inventory[selectedItemIdx];
        if(!item) return;

        closeActionMenu();
        closeModal('inventory-modal');
        openModal('battle-modal');
        
        document.getElementById('battle-lobby').style.display = 'none';
        document.getElementById('battle-view').style.display = 'flex';
        
        const pImg = document.getElementById('battle-player');
        pImg.src = item.img;
        pImg.onerror = function() { this.src='https://placehold.co/100?text=Player'; this.onerror=null; };
        pImg.className = `fighter player rarity-${item.rarity}`;
        
        const enemy = DB[Math.floor(Math.random() * DB.length)];
        const eImg = document.getElementById('battle-enemy');
        eImg.src = enemy.img;
        eImg.onerror = function() { this.src='https://placehold.co/100?text=Enemy'; this.onerror=null; };
        eImg.className = `fighter enemy rarity-${enemy.rarity}`;
        
        let ehp = item.level * 50 + 100;
        const maxHp = ehp;
        document.getElementById('battle-msg').innerText = "FIGHTING...";
        document.getElementById('battle-msg').style.color = "#f44336";
        
        if(battleTimer) clearInterval(battleTimer);
        battleTimer = setInterval(() => {
            ehp -= item.val * item.level * rebirthMult + Math.random() * 10;
            let pct = (ehp / maxHp) * 100;
            if(pct < 0) pct = 0;
            document.getElementById('enemy-hp').style.width = pct + '%';
            
            if(ehp <= 0) {
                clearInterval(battleTimer);
                winBattle(item);
            }
        }, 100);
    }

    function winBattle(pet) {
        document.getElementById('battle-msg').innerText = "WIN! XP UP!";
        pet.xp += 50 + pet.level * 10;
        if(pet.xp >= pet.maxXp) {
            pet.level++;
            pet.xp = 0;
            pet.maxXp = Math.floor(pet.maxXp * 1.5);
        }
        saveGame();
        setTimeout(() => {
            updateUI();
            openModal('inventory-modal');
            closeModal('battle-modal');
        }, 1000);
    }

    function openModal(id) { 
        document.getElementById(id).style.display = 'flex';
        if(id === 'collection-modal') renderCollection();
        if(id === 'inventory-modal') closeActionMenu();
        if(id === 'factory-modal') {
            startFactoryLoop(); 
            renderInventory(); 
        }
    }
    function closeModal(id) { 
        document.getElementById(id).style.display = 'none'; 
        if(id === 'inventory-modal') closeActionMenu();
        if(id === 'battle-modal' && battleTimer) clearInterval(battleTimer);
        if(id === 'factory-modal') {
             if(factoryMobInterval) clearInterval(factoryMobInterval);
        }
    }

</script>
</body>
</html>
